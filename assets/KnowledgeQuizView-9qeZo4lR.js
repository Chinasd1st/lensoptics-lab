import{c as O,r as b,j as e,g as q}from"./index-BNRcGiAY.js";import{B as ee}from"./brain-DTibZMYr.js";import{S as te}from"./settings-2-CLvPTba5.js";import{P as se}from"./play-Dt21xhn0.js";import{C as X}from"./circle-check-big-D9d8BAbL.js";import{C as K}from"./circle-x-K1yT4OEw.js";import{S as re}from"./square-check-big-CLsi_2OK.js";import{A as ae}from"./arrow-down-MY23Jy4H.js";import{T as J}from"./timer-C4vPH9Sn.js";import{R as ne}from"./refresh-cw-dKhXWlK5.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],oe=O("arrow-up",le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ce=O("chart-no-axes-column",ie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xe=O("check",de);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pe=O("circle-alert",me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fe=O("circle-question-mark",he);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],be=O("copy",ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Z=O("database",ge);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ae=O("download",ye);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Ne=O("keyboard",je);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ee=O("link",Se);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],we=O("shuffle",Me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ie=O("trophy",Ce),t=(s,r,d,x,g,y,j)=>({id:s,category:r,type:"SINGLE",difficulty:d,question:x,options:g,correctAnswer:y,explanation:j}),F=(s,r,d,x,g,y)=>({id:s,category:r,type:"TRUE_FALSE",difficulty:d,question:x,options:["正确 (True)","错误 (False)"],correctAnswer:g?"正确 (True)":"错误 (False)",explanation:y}),P=(s,r,d,x,g,y,j,C,E)=>({id:s,category:r,type:"FILL_BLANK",difficulty:d,question:x,options:[],acceptedAnswers:g,correctAnswer:y,explanation:j,inputPrefix:C,inputSuffix:E}),L=(s,r,d,x,g,y,j)=>({id:s,category:r,type:"MULTI",difficulty:d,question:x,options:g,correctAnswer:y,explanation:j}),V=(s,r,d,x,g,y,j)=>({id:s,category:r,type:"ORDER",difficulty:d,question:x,options:g,correctAnswer:y,explanation:j}),$=(s,r,d,x,g,y,j)=>({id:s,category:r,type:"INTERACTIVE",difficulty:d,question:x,options:[],correctAnswer:y,interactive:g,explanation:j}),Y=(s,r,d,x,g,y)=>({id:s,category:r,type:"MATCHING",difficulty:d,question:x,options:g.map(j=>j[0]),correctAnswer:g.map(j=>j[1]),explanation:y}),_=[Y(801,"Color","MEDIUM","请将以下摄影机品牌与其对应的 Log 伽马曲线进行配对：",[["Sony","S-Log3"],["Canon","C-Log / C-Log3"],["Panasonic","V-Log"],["ARRI","LogC3 / LogC4"],["Blackmagic","Blackmagic Film Gen5"]],"不同厂商对传感器线性的映射曲线不同，S-Log3 以高动态范围著称，LogC 则被视为行业标杆。"),Y(802,"Optics","EASY","请将焦段与其最常用于的拍摄题材进行配对：",[["14mm - 24mm","星空 / 建筑 / 广阔风景"],["35mm - 50mm","人文街拍 / 纪实 / 标准视角"],["85mm - 135mm","人像特写 / 糖水片"],["400mm - 600mm","野生动物 / 体育竞技 / 射月"]],"焦距决定视角和压缩感。广角容纳更多，长焦压缩空间并隔离主体。"),Y(803,"Sensor","MEDIUM","请将传感器画幅与其典型物理尺寸进行配对：",[["Full Frame (全画幅)","36mm x 24mm"],["APS-C (Sony/Nikon)","23.5mm x 15.6mm"],["Micro 4/3","17.3mm x 13mm"],["Medium Format (中画幅)","44mm x 33mm"]],"全画幅基于 35mm 胶片。APS-C 约小 1.5 倍，M43 约小 2 倍（面积小 4 倍）。"),Y(804,"Lighting","EASY","请将布光位置与其视觉作用进行配对：",[["Key Light (主光)","塑造主体形态，决定曝光基准"],["Fill Light (辅光)","填充阴影，控制光比反差"],["Back Light (轮廓光)","勾勒边缘，将主体与背景分离"],["Background Light (背景光)","照亮环境，增加空间纵深感"]],"经典三点布光法是影视照明的基础。"),V(701,"Exposure","EASY","按光圈孔径从大到小（进光量从多到少）排列：",["f/1.4","f/2.8","f/5.6","f/11","f/22"],["f/1.4","f/2.8","f/5.6","f/11","f/22"],"F值越小，孔径越大。f/1.4 是超大光圈，f/22 是针孔级小光圈（产生衍射）。"),V(702,"Formats","MEDIUM","按视频编码的数据量（码率）通常从大到小排列：",["RAW (Uncompressed)","ProRes 422 HQ","H.264 (High Bitrate)","H.265 (Web Stream)"],["RAW (Uncompressed)","ProRes 422 HQ","H.264 (High Bitrate)","H.265 (Web Stream)"],"RAW 记录原始数据体积最大；ProRes 是高码率中间帧；H.264/H.265 是高压缩交付格式。"),V(703,"Color","HARD","按色域覆盖范围从小到大排列：",["sRGB / Rec.709","DCI-P3","Rec.2020","ACES AP0"],["sRGB / Rec.709","DCI-P3","Rec.2020","ACES AP0"],"Rec.709 是高清标准（最小）；P3 是数字影院标准；Rec.2020 是超高清HDR标准；ACES AP0 包含人眼可见所有颜色。"),$(901,"Lighting","EASY","请调整滑块至“标准日光 (Daylight)”的色温值。",{min:2e3,max:1e4,step:100,unit:"K",correctValue:5600,tolerance:200,visual:"COLOR_TEMP"},"5600K","5500K - 5600K 是影视工业定义的标准日光白平衡数值。"),$(902,"Optics","EASY","调整滑块至公认的“人像黄金焦段” (全画幅)。",{min:16,max:200,step:1,unit:"mm",correctValue:85,tolerance:5,visual:"FOCAL_LENGTH"},"85mm","85mm 能提供适度的面部特写透视，既不会像广角那样产生大鼻子畸变，也不会像超长焦那样让面部过于扁平。"),$(903,"Video","MEDIUM","拍摄 24fps 视频时，180° 快门角对应的快门速度分母是多少？",{min:10,max:200,step:1,unit:"",correctValue:48,tolerance:2,visual:"SHUTTER"},"48 (1/48s)","快门速度 = 1 / (2 * 帧率)。24fps * 2 = 48。通常相机设置为 1/50s 近似。"),$(904,"Sensor","HARD","【困难】调整至 Sony FX3 / A7S3 在 S-Log3 下的第二档原生 ISO。",{min:800,max:25600,step:100,unit:"",correctValue:12800,tolerance:0,visual:"ISO"},"12800","这是双原生 ISO 的高感档位，在此档位下模拟增益电路切换，信噪比重置，画质极纯净。"),$(905,"Audio","MEDIUM","人耳能听到的最高频率理论极限是多少？",{min:1e4,max:3e4,step:1e3,unit:"Hz",correctValue:2e4,tolerance:1e3,visual:"AUDIO_HZ"},"20000 Hz","人耳的听觉范围通常为 20Hz - 20kHz。随年龄增长，高频听力会逐渐下降。"),$(906,"Video","MEDIUM","调整快门速度至拍摄百米冲刺等高速运动推荐的起始安全值 (Freeze Motion)。",{min:100,max:2e3,step:100,unit:"",correctValue:1e3,tolerance:200,visual:"SHUTTER"},"1000 (1/1000s)","拍摄高速运动时，为了凝固瞬间动作（如水滴溅起、短跑），快门速度通常需要达到 1/1000s 或更快。"),$(908,"Optics","EASY","调整至公认的“超广角”起始焦距 (全画幅)。",{min:10,max:50,step:1,unit:"mm",correctValue:16,tolerance:4,visual:"FOCAL_LENGTH"},"16mm - 20mm","一般将 24mm 以下称为超广角。16-35mm 是经典的大三元广角变焦焦段。"),t(1,"Optics","EASY","50mm 镜头在全画幅相机上的成像特性，更接近以下哪种描述？",["透视关系自然，空间比例失真较小","明显夸张前后空间距离","显著压缩前后景物距离","产生强烈曲线畸变"],"透视关系自然，空间比例失真较小","50mm 镜头在全画幅下具有较为中性的透视表现，不会明显夸张或压缩空间关系。"),t(2,"Optics","MEDIUM","在理想光学模型下，光圈从 F2.8 收至 F4.0，对曝光的影响是？",["理论进光量减少一半，但实际曝光可能因镜头透光率而不同","理论进光量减少 1/3，但视觉亮度不变","进光量不变，只影响景深","曝光减少两档，因为焦距发生变化"],"理论进光量减少一半，但实际曝光可能因镜头透光率而不同","F 值描述的是几何孔径，真实曝光还受镜头透光率（T-stop）影响，尤其在影视镜头中更为重要。"),L(3,"Optics","EASY","影响景深 (DoF) 的三大核心要素是？",["光圈大小","镜头焦距","拍摄距离 (物距)","ISO 感光度","快门速度","白平衡设置","存储卡速度"],["光圈大小","镜头焦距","拍摄距离 (物距)"],"景深公式只与光圈、焦距、物距及容许弥散圆有关。ISO 和快门不影响景深范围。"),t(4,"Optics","MEDIUM","ED（Extra-low Dispersion）镜片在镜头设计中主要用于改善哪一类成像问题？",["不同波长光线的成像位置不一致","直线在画面边缘发生弯曲","焦平面随画面位置发生弯折","高反差边缘产生紫边与绿边"],"不同波长光线的成像位置不一致","ED 镜片通过降低色散，使不同波长的光线在传感器上更接近同一成像位置。"),F(5,"Optics","EASY","微距镜头的 '1:1 放大倍率' 指物体在照片中比实物大一倍。",!1,"1:1 指的是物体在'传感器上成的像'与实物等大。"),P(6,"Optics","EASY","Sony E 卡口的法兰距是多少毫米？",["18","18mm"],"18mm","E 卡口法兰距极短（18mm），这使其拥有极佳的转接能力。","","mm"),t(8,"Optics","MEDIUM","像场弯曲 (Field Curvature) 会导致什么现象？",["中心合焦时边缘模糊","直线变弯曲 (畸变)","高光溢出","边缘失光 (暗角)","色彩饱和度下降","摩尔纹增加"],"中心合焦时边缘模糊","焦平面不是平的而是弯曲的，导致平面物体无法全屏合焦。"),t(9,"Optics","HARD","在星空摄影中，为了减少画面边缘点光源产生的彗差（Coma），以下哪一类镜头设计取向最为关键？",["针对大光圈边缘像差进行优化的光学设计","以消除横向与纵向色差为目标的 APO 设计","追求几何直线还原的低畸变设计","具备 1:1 放大倍率的微距镜头结构","具备像场平坦化（Field Flattener）的镜头","可进行透视校正的移轴镜头"],"针对大光圈边缘像差进行优化的光学设计","彗差主要来源于大光圈下画面边缘光线无法在同一点聚焦，因此是否专门针对边缘像差进行优化（尤其在全开光圈下）才是关键。"),L(21,"Sensor","MEDIUM","以下哪些特性更符合卷帘快门（Rolling Shutter）的描述？（多选）",["传感器逐行而非同时读取画面信息","画面上下区域的曝光时间并不完全一致","高速运动物体可能产生倾斜或拉伸","属于电子快门独有的问题，与读出方式无关","闪光同步速度通常受到限制"],["传感器逐行而非同时读取画面信息","画面上下区域的曝光时间并不完全一致","高速运动物体可能产生倾斜或拉伸","闪光同步速度通常受到限制"],"Rolling Shutter 的核心在于逐行读出导致的时间差，而非是否使用电子快门本身。"),F(22,"Sensor","MEDIUM","双原生 ISO 技术指的是同一传感器具备两套不同增益路径，以在不同 ISO 区间优化信噪比。",!0,"双原生 ISO 并非使用两个传感器，而是通过不同的模拟增益或读出路径来优化画质。"),P(23,"Sensor","EASY","APS-C (Sony/Nikon) 的等效系数是？",["1.5","1.5x"],"1.5","Canon 为 1.6x，M43 为 2.0x。","","x"),t(24,"Sensor","MEDIUM","在RAW解码时，拜耳阵列的RGGB排列会影响图像处理流程，因为绿色像素的数量更多。这种设计主要是为了：",["模拟人眼对亮度信息的敏感特性，获得更好的细节过渡","让画面偏绿以获得更自然的色彩","降低传感器的制造成本","减少摩尔纹现象","提升高光区域的动态范围","简化镜头光学设计"],"模拟人眼对亮度信息的敏感特性，获得更好的细节过渡","人眼对绿色波段（约550nm）的亮度最敏感，因此拜耳阵列中绿色占50%（RGGB排列），红蓝各占25%。"),t(25,"Sensor","MEDIUM","信噪比 (SNR) 的提升主要依赖于？",["增加进光量或像素面积","单纯提高 ISO 数值","使用更快的快门速度","提高锐度设置","使用 Log 模式","降低色彩位深"],"增加进光量或像素面积","信噪比 = 信号/噪声。增加信号（光子数量）是提升画质的物理基础。"),L(41,"Video","HARD","以下哪些特性更符合帧内编码（Intra-frame）的工作方式？（多选）",["每一帧可独立解码","剪辑时对计算性能要求较低","压缩效率通常低于帧间编码","强依赖前后帧预测信息","文件体积在同画质下通常较大"],["每一帧可独立解码","剪辑时对计算性能要求较低","压缩效率通常低于帧间编码","文件体积在同画质下通常较大"],"帧内编码不依赖时间预测，因此解码压力小但压缩效率较低。"),t(42,"Video","MEDIUM","4:2:2 采样相比 4:2:0 的核心优势是？",["色度信息更多","亮度信息更多","分辨率更高","帧率上限更高","文件体积更小","更适合黑白摄影"],"色度信息更多","保留了更多的色度采样，抠像边缘色彩过渡更锐利。两者的亮度采样 (Y) 是一样的。"),F(44,"Video","MEDIUM","Log 模式下画面对比度和饱和度较低，主要是为了在有限比特深度下记录更多亮暗细节。",!0,"Log 曲线通过重新分配亮度信息，提高动态范围利用效率，而非曝光失误。"),t(45,"Video","MEDIUM","波形图 (Waveform) 的 X 轴代表什么？",["画面水平位置","频率","时间轴","色彩饱和度","光圈值","音频电平"],"画面水平位置","波形图从左到右对应画面的从左到右，显示对应列的亮度分布。"),t(46,"Video","HARD","在 50Hz 电力环境下拍摄，为了避免灯光频闪，应该选择哪种快门速度？",["1/50s 或 1/100s","1/60s 或 1/120s","1/48s","1/24s","1/200s","1/30s"],"1/50s 或 1/100s","快门速度必须是电力频率 (50Hz) 的整数倍，才能覆盖完整的交流电周期。"),P(62,"Lighting","MEDIUM","根据平方反比定律，光源距离增加一倍，光照强度变为原来的____。",["4"],"1/4","距离加倍 (2x)，光照强度变为平方的倒数(1/2² = 1/4)。","1/",""),t(63,"Lighting","MEDIUM","CRI (显色指数) 主要衡量光源的什么能力？",["还原物体真实颜色的能力","最大亮度输出","色温的稳定性","频闪控制能力","光照范围","电池续航"],"还原物体真实颜色的能力","CRI (显色指数) 满分 100，越高越接近太阳光光谱。与亮度无关。"),t(64,"Lighting","EASY","蝴蝶光 (Butterfly Lighting) 的主要特征是？",["鼻子下方有蝴蝶状阴影","面部完全平光","阴影在面部一侧","背光剪影","侧逆光轮廓","背景全白"],"鼻子下方有蝴蝶状阴影","主光位高且正对人脸，常用于女性人像，显脸瘦。"),t(65,"Lighting","HARD","想要获得更柔和的光线质感，应该？",["增加光源的相对面积","降低光源的亮度","使用色温更低的光源","使用菲涅尔透镜聚焦","提高快门速度","使用聚光筒"],"增加光源的相对面积","光线的软硬取决于光源相对于主体的视面积。面积越大，光线越柔和。"),t(80,"Audio","MEDIUM","枪式麦克风 (Shotgun) 的指向性通常是？",["超心形 (Hyper-cardioid)","全向 (Omnidirectional)","8字形 (Bi-directional)","立体声 (Stereo)","心形 (Cardioid)","宽心形 (Wide Cardioid)"],"超心形 (Hyper-cardioid)","利用干涉管原理抑制侧后方声音。"),F(81,"Audio","HARD","32-bit Float 录音格式即使电平超过 0dB 也可以后期拉回而不爆音。",!0,"拥有超高动态范围 (超过1500dB)，后期可拉回过曝电平。"),t(82,"Audio","EASY","专业电容麦克风需要的幻象电源电压通常是？",["48V","12V","5V","24V","9V","220V"],"48V","XLR 接口标准供电。"),V(83,"Audio","MEDIUM","按采样率从低到高排列：",["44.1 kHz","48 kHz","96 kHz","192 kHz"],["44.1 kHz","48 kHz","96 kHz","192 kHz"],"CD标准为 44.1k，视频标准通常为 48k。"),L(84,"Audio","MEDIUM","录制人声对白时，前期应尽量避免？",["环境回声/混响","不可控的风噪","过大的底噪","声音过干 (无混响)","麦克风防震架","卡农线屏蔽"],["环境回声/混响","不可控的风噪","过大的底噪"],"后期加混响容易，去混响非常难且会有音质损失。前期录音越干越好。"),P(85,"Audio","HARD","根据奈奎斯特定理，要无损还原信号，采样率必须至少是最高频率的____倍。",["2","2倍","两倍"],"2","奈奎斯特采样定理规定：采样率 > 2倍信号最高频率。","至少 "," 倍"),V(90,"Post","MEDIUM","请按常见色彩管理流程中的推荐顺序排列以下步骤：",["输入色彩空间转换（IDT）","基础曝光与白平衡校正","风格化处理或 LUT 应用","输出色彩空间转换（ODT）"],["输入色彩空间转换（IDT）","基础曝光与白平衡校正","风格化处理或 LUT 应用","输出色彩空间转换（ODT）"],"先统一输入色彩空间，再进行校正和风格处理，最后转换至目标输出空间。"),t(91,"Post","MEDIUM","矢量示波器 (Vectorscope) 主要用于观察？",["色相和饱和度","亮度分布","RGB通道平衡","音频相位","曝光量","对焦准确度"],"色相和饱和度","角度代表色相，距离圆心的距离代表饱和度。"),L(92,"Post","MEDIUM","判断白平衡是否准确，最直观的示波器是？",["RGB Parade (分量图)","Vectorscope (矢量图)","Histogram (直方图)","Waveform (波形图)","Luma Waveform","Audio Meter"],["RGB Parade (分量图)","Vectorscope (矢量图)"],"RGB Parade 看三通道是否水平对齐（中性灰），Vectorscope 看肤色线偏差。"),t(93,"Post","EASY","LUT 的全称是？",["Look Up Table","Light Unit Time","Level Up Tool","Linear Utility Type","Light Utility Tool","Low Unit Test"],"Look Up Table","查找表，用于色彩数值的映射。"),t(94,"Post","MEDIUM","在 DaVinci Resolve 中，'Lift' 滚轮主要影响画面的哪个部分？",["暗部 (Shadows)","亮部 (Highlights)","中间调 (Midtones)","所有部分均匀影响","高光 (Specular)","饱和度 (Saturation)"],"暗部 (Shadows)","Lift 主要调整暗部基准，Gamma 调整中间调，Gain 调整亮部。"),t(100,"Mech","EASY","IBIS 指的是什么技术？",["机身五轴防抖","镜头光学防抖","电子裁切防抖","陀螺仪后期增稳","数字稳像","三脚架模式"],"机身五轴防抖","In-Body Image Stabilization，通过传感器物理位移补偿抖动。"),t(101,"Misc","EASY","偏振镜 (CPL) 无法消除哪种反光？",["金属表面反光","水面反光","玻璃反光","树叶反光","皮肤油光","塑料反光"],"金属表面反光","金属反光不是偏振光，CPL 对其无效。"),P(102,"Misc","MEDIUM","10-bit 色深能显示约____亿种颜色 (保留一位小数)。",["10.7","10.73"],"10.7","2^10 = 1024 (每通道)。1024^3 ≈ 10.73 亿。","约 "," 亿"),L(103,"Mech","MEDIUM","液压云台相比球形云台的优势在于？",["运镜平滑，适合视频摇摄","提供动态平衡","体积更小更轻便","锁定速度更快","更便宜","更适合竖拍"],["运镜平滑，适合视频摇摄","提供动态平衡"],"液压云台提供恒定阻尼和回弹力，适合视频；球台适合摄影快速构图。"),t(104,"Mech","MEDIUM","无反相机转接单反镜头时，转接环的主要物理作用是？",["补齐法兰距","增加进光量","缩小成像圈","改变焦距","扩大像场","增加光圈"],"补齐法兰距","无反法兰距短，单反长，中间需要空心管子（转接环）来补齐距离，否则无法合焦。"),t(110,"Optics","MEDIUM","T值 (T-Stop) 与 F值 (F-Stop) 的核心区别？",["T值考虑了镜片透光率损耗","F值更适合电影拍摄","T值只取决于光圈孔径大小","没有区别","T值只用于摄影","F值更准确"],"T值考虑了镜片透光率损耗","T值是实际透过镜头的光量，F值是几何计算值。电影镜头用 T 值确保不同镜头间曝光一致。"),L(111,"Optics","HARD","衍射极限 (Diffraction Limit) 意味着什么？",["光圈过小会导致画质变软","最佳光圈通常在 F5.6-F8","F22 光圈画质最锐利","与像素密度无关","大光圈F1.2衍射最严重","传感器尺寸越小衍射越不明显"],["光圈过小会导致画质变软","最佳光圈通常在 F5.6-F8"],"光圈缩得太小（如 F22），光波发生衍射干扰，分辨率下降。"),t(112,"Sensor","MEDIUM","信噪比 (SNR) 越高意味着？",["画面越纯净，噪点越少","噪点越多","信号越弱","文件体积越大","动态范围降低","色彩偏移"],"画面越纯净，噪点越少","有效信号比例高，噪声比例低。"),F(113,"Video","EASY","使用代理 (Proxy) 剪辑会降低最终导出的画质。",!1,"代理仅用于编辑时的流畅预览，导出渲染时软件会自动切回原始高画质素材。"),t(114,"Optics","HARD","关于变形宽银幕镜头 (Anamorphic) 的光学特征，以下描述正确的是？",["散景呈纵向椭圆，光斑拉丝呈水平方向","散景呈横向椭圆，光斑拉丝呈垂直方向","散景呈正圆形，无拉丝","散景呈六边形，拉丝呈放射状","焦外呈正方形","无眩光"],"散景呈纵向椭圆，光斑拉丝呈水平方向","变形镜组在水平方向压缩画面。还原后，光斑会变成明显的纵向（垂直）椭圆。"),t(120,"Format","MEDIUM","ProRes RAW 的主要优势？",["兼具 RAW 的可调性和 ProRes 的流畅度","体积比 H.265 更小","所有相机都支持内录","不需要显卡加速"],"兼具 RAW 的可调性和 ProRes 的流畅度","Apple 开发的高效 RAW 编码，结合了 RAW 的数据量和 ProRes 的剪辑性能。"),t(122,"Format","MEDIUM","HEIF 格式的色深通常是？",["10-bit","8-bit","16-bit","12-bit","14-bit","32-bit"],"10-bit","比 8-bit JPEG 拥有更好的色彩过渡，且体积更小。"),t(130,"Industry","MEDIUM","ARRI Alexa 著名的色彩科学核心优势是？",["极高的高光滚落和肤色表现","分辨率最高","机身最轻便","ISO 最高","内置 ND 滤镜","菜单设计"],"极高的高光滚落和肤色表现","Alexa 的传感器动态范围和色彩映射让高光过渡非常自然，接近胶片质感。"),P(131,"Industry","HARD","标准 IMAX 胶片的宽度是____mm。",["70","70mm"],"70mm","胶片宽度: 70mm (15孔)。","","mm"),L(132,"Industry","EASY","好莱坞主流的高端数字电影摄影机品牌通常包括？",["ARRI","RED","Panavision","Blackmagic","GoPro","DJI","Nikon","Insta360"],["ARRI","RED","Panavision"],"好莱坞工业标准通常由 ARRI (Alexa系列)、RED (V-Raptor/Monstro) 和 Panavision (DXL2) 主导。"),t(140,"Monitor","MEDIUM","假色 (False Color) 监看工具中，通常用什么颜色代表 18% 中性灰 (肤色基准)？",["绿色或灰色","红色","紫色","黄色","蓝色","橙色"],"绿色或灰色","在 ARRI 或 Sony 标准中，中性灰和肤色通常落在绿色波段附近。"),t(141,"Audio","EASY","幻象电源 (Phantom Power) 是通过哪种线缆传输的？",["XLR (卡农线)","3.5mm TRS","RCA (莲花头)","光纤","HDMI","USB"],"XLR (卡农线)","48V 幻象电源通过平衡 XLR 线缆同时传输信号和电力。"),F(142,"Optics","EASY","变焦镜头通常比定焦镜头拥有更大的最大光圈。",!1,"定焦镜头结构简单，更容易做成 F1.2/F1.4 等超大光圈；变焦镜头通常做到 F2.8 已是顶级。"),L(143,"Video","MEDIUM","以下哪些因素会导致直播画面出现马赛克？",["上行码率不足","关键帧间隔 (GOP) 过长","网络丢包","色温设置错误","帧率过高","色彩采样过高"],["上行码率不足","关键帧间隔 (GOP) 过长","网络丢包"],"色温只会影响颜色，不会导致马赛克。关键帧间隔过长在画面剧烈变化时会导致模糊。"),t(144,"Lighting","MEDIUM","伦勃朗光 (Rembrandt Lighting) 的标志性特征是？",["暗部脸颊上的倒三角形亮区","面部完全平光","阴影在面部一侧","背光剪影","完全无阴影","蝴蝶型光斑"],"暗部脸颊上的倒三角形亮区","经典的 45 度布光，在背光侧脸颊形成标志性三角光。"),t(145,"Post","HARD","ACES 色彩管理系统的核心目标是？",["统一不同摄影机和显示设备的色彩标准","提高视频分辨率","自动剪辑视频","消除画面噪点","压缩视频体积","提高剪辑速度"],"统一不同摄影机和显示设备的色彩标准","学院色彩编码系统 (Academy Color Encoding System)，旨在解决多机型素材匹配和多平台交付的标准化问题。"),P(146,"Physics","EASY","光在真空中的速度约为每秒____万公里。",["30","30万"],"30万","光速 c ≈ 300,000 km/s。","约 "," 万公里"),V(147,"Video","MEDIUM","按传感器成像面积从大到小排列：",["IMAX 15/70 胶片","Full Frame (全画幅)","Super 35","Micro 4/3"],["IMAX 15/70 胶片","Full Frame (全画幅)","Super 35","Micro 4/3"],"IMAX 胶片面积巨大，远超全画幅。Super 35 略小于全画幅 (APS-C 级别)。"),t(148,"Mechanics","MEDIUM","无人机航拍视频中，ND 滤镜的主要作用是？",["在明亮环境下保持 180° 快门角","增加画质锐度","改变天空颜色","保护镜头不被撞击","增加飞行时间","防止过热"],"在明亮环境下保持 180° 快门角","为了保持电影感动态模糊，快门不能太快，必须用 ND 压暗光线以维持 1/50s 左右的快门。"),t(149,"Lens","MEDIUM","微距镜头上的 'Focus Limiter' (对焦限制器) 开关的作用是？",["限制对焦搜索范围","限制最大光圈大小","限制最近对焦距离防止碰撞","锁定焦点防止误触","限制焦距","限制 ISO"],"限制对焦搜索范围","微距镜头行程极长，限制范围可以防止在全行程内'拉风箱'。"),t(201,"Optics","HARD","关于“远心镜头 (Telecentric Lens)”的光学特性，描述正确的是？",["主光线与光轴平行","放大倍率随物距剧烈变化","仅用于广角摄影","像场极度弯曲","畸变极大","主要用于人像"],"主光线与光轴平行","远心镜头的设计使得进入镜头的主光线平行于光轴。这意味着即使物体稍微靠近或远离镜头（物距变化），其在成像平面上的放大倍率保持不变。"),t(202,"Video","HARD","在 H.265/HEVC 编码中，'CTU (Coding Tree Unit)' 的最大尺寸通常是多少？",["64x64","16x16","32x32","128x128","256x256","8x8"],"64x64","相比 H.264 的宏块 (Macroblock) 最大 16x16，H.265 引入了 CTU 概念，最大支持 64x64 像素。"),t(203,"Audio","HARD","平衡传输 (Balanced Audio) 消除噪音的核心物理原理是？",["相位抵消与共模抑制","高电压传输","数字纠错","无氧铜材质","信号放大","频率滤波"],"相位抵消与共模抑制","平衡线包含热端和冷端，冷端信号反相。噪音同时进入两端（共模信号）。接收端将冷端再次反相并与热端叠加，此时有用信号增强，而噪音因相位相反被相互抵消。"),t(204,"Color","HARD","在 ACES 工作流中，IDT (Input Device Transform) 的主要数学作用是？",["原生 RGB 映射至 ACES AP0 并线性化","风格化调色","Log 转 Rec.709","高光压缩","输出至显示器","降噪"],"原生 RGB 映射至 ACES AP0 并线性化","IDT 是进入 ACES 系统的关卡。它利用矩阵变换将不同摄影机传感器特定的原生色彩空间和伽马曲线，统一转换到标准的、线性的 ACES AP0 空间中。"),t(205,"Sensor","HARD","传感器微透镜 (Microlens) 的主要工程目的是？",["提升光子收集效率","消除摩尔纹","滤除红外线","实现全局快门","增加像素数量","改变光谱响应"],"提升光子收集效率","像素之间存在不感光的电路区域。微透镜覆盖在每个像素上方，将原本会打在电路区（无效区）的光线汇聚到感光二极管上，从而显著提升光子收集效率。"),t(206,"Monitor","MEDIUM","为什么有些监视器支持 'De-Log' 但不支持 '3D LUT'？",["De-Log 仅作一维 Gamma 映射","3D LUT 需昂贵面板","De-Log 仅显示黑白","二者无区别","De-Log 增加动态范围","3D LUT 更省电"],"De-Log 仅作一维 Gamma 映射","简单的 De-Log (Assist) 可能只是应用一个 1D LUT 或伽马校正公式，只改变亮度响应。而 3D LUT 需要进行复杂的三维色彩空间插值运算，对芯片算力要求更高。"),t(207,"Optics","HARD","微距摄影中使用'皮腔'大幅延长像距时，'有效光圈'变小的近似公式为？",["F_eff = F_set × (1 + M)","F_eff = F_set / M","F_eff = F_set × f","光圈值不变","F_eff = F_set","F_eff = F_set / 2"],"F_eff = F_set × (1 + M)","当放大倍率 (M) 达到 1:1 时，有效光圈数值会变为设定值的 2 倍（即暗 2 档）。这就是为什么微距拍摄时取景器会变暗。"),t(208,"Video","MEDIUM","SDI 接口相比 HDMI 接口，在物理传输层的一个显著劣势是？",["无 HDCP 握手协议","不支持 4K","无音频传输","传输距离短","带宽低","延迟高"],"无 HDCP 握手协议","SDI 是专业广播接口，设计之初就不包含 HDCP 加密协议。这使得它无法传输受版权保护的消费级内容（如蓝光机输出）。"),t(209,"Lighting","HARD","在评价 LED 光源的色彩还原能力时，TLCI 相比传统 CRI 指标的核心优势是？",["基于摄像机成像而非人眼视觉模型","对高饱和颜色更敏感","只评估绿色通道的准确性","主要用于自然光源评估","数值越高亮度越大","完全取代了 CRI 标准"],"基于摄像机成像而非人眼视觉模型","CRI 基于人眼对 8–15 种标准色样的主观评价，而 TLCI（Television Lighting Consistency Index）模拟的是摄像机传感器 + 广播流程的响应。"),t(210,"Lens","HARD","“后焦距 (Back Focus)”调节的主要作用是？",["校准变焦时的焦点漂移","调整最近对焦","改变光圈","调整焦外虚化","调整色彩","改变焦段"],"校准变焦时的焦点漂移","广播级和电影变焦镜头通常有后焦调节环。如果后焦不准，镜头在变焦过程中焦点会发生漂移（即广角端对焦后，推到长焦端焦点变虚），破坏齐焦特性。"),t(211,"Format","HARD","Apple ProRes 422 与 ProRes 422 HQ 的主要区别在于？",["目标码率不同","色深不同","采样不同","分辨率限制不同","帧率不同","压缩算法不同"],"目标码率不同","两者都是 10-bit 4:2:2 格式。唯一的区别是数据速率（压缩比）。HQ (High Quality) 保留更多高频细节，码率更高。"),t(212,"Audio","HARD","数字音频中的 'Jitter' (抖动) 指的是？",["时域采样时钟波动","音量波动","量化噪声","高频丢失","低频失真","音量过载"],"时域采样时钟波动","在数模转换 (DAC) 过程中，时钟信号的不精确导致采样点的时间间隔不均匀。这会导致高频信号失真，听感上表现为声音模糊、结像不实。"),t(213,"Physics","MEDIUM","同等光圈/视场角下，全画幅比 M43 景深更浅的根本原因是？",["同视角下物理焦距更长","传感器更贵","像素更多","进光量更大","像素密度不同","法兰距不同"],"同视角下物理焦距更长","景深主要由焦距、光圈和物距决定。为了在不同画幅获得相同的构图（视场角），全画幅需要更长的物理焦距，焦距变长直接导致景深变浅。"),t(214,"Video","HARD","矢量示波器 (Vectorscope) 上的 'I 线' (Skin Tone Line) 代表的色相角度大约是？",["123 度","90 度","180 度","45 度","270 度","0 度"],"123 度","无论种族黑白黄，人类皮下血管的血液颜色决定了健康肤色的基准色相是非常一致的。I 线位于矢量图的左上方，约为 11 点钟方向（约 123 度）。"),t(215,"Signal","HARD","双原生 ISO 技术中，高感档位 (High Base) 能够降低噪点的核心机制是？",["切换高增益电路","数字降噪","大电容","像素合并","多帧合成","增加电压"],"切换高增益电路","传感器在高基准 ISO 时，会切换到“高转换增益 (HCG)”模式，减小浮动扩散节点 (FD) 的电容容量。"),t(216,"Timecode","HARD","线性时间码 (LTC) 相比垂直间隔时间码 (VITC) 的主要缺陷是？",["静止或变速时无法读取","数据量大","不记小时","仅支持 24fps","精度低","占用视频线"],"静止或变速时无法读取","LTC 是作为音频信号记录在磁带音轨上的。就像磁带必须走动磁头才能读出声音一样，磁带停止时 LTC 信号消失，无法读取时间码。"),t(217,"Optics","HARD","'像散 (Astigmatism)' 在画面中主要表现为？",["子午与弧矢焦点不重合","中心清晰边缘旋转","高光紫边","直线变曲","色彩分离","暗角严重"],"子午与弧矢焦点不重合","像散是由于镜头在子午面和弧矢面上的焦距不一致造成的。会导致点光源在焦外呈现拉长的椭圆或线状，通常呈现旋转焦外的特征。"),t(218,"Exposure","MEDIUM","在使用 S-Log3 拍摄时，为什么索尼官方建议“向右曝光 (ETTR)”约 +1.7 EV？",["提升暗部信噪比","让高光溢出","改变色彩科学","降低 ISO","防止高光溢出","增加色彩饱和度"],"提升暗部信噪比","Log 曲线大幅提升了暗部亮度以保留细节，但也同时也放大了暗部噪点。通过过曝拍摄，将有效信号“推”离底噪区域，可以获得极纯净的暗部画质。"),t(219,"Data","HARD","RAID 5 阵列至少需要几块硬盘，且允许同时损坏几块硬盘而不丢失数据？",["最少3盘，坏1盘","最少2盘，坏1盘","最少4盘，坏2盘","最少3盘，坏2盘","最少5盘，坏1盘","最少4盘，坏1盘"],"最少3盘，坏1盘","RAID 5 使用分布式奇偶校验。它需要至少 3 块盘。任意一块盘损坏，都可以通过剩余盘的数据和校验信息算出丢失的数据。"),t(220,"Physics","HARD","在数字成像中，当被摄物体的空间频率超过传感器的奈奎斯特频率时，会产生什么现象？",["摩尔纹 (Moiré) 与伪色","衍射 (Diffraction)","暗角 (Vignetting)","信噪比下降","过锐","模糊"],"摩尔纹 (Moiré) 与伪色","奈奎斯特采样定理指出采样率必须大于信号最高频率的2倍。当纹理密度超过像素密度的一半时，无法正确还原，产生低频干扰条纹（摩尔纹）和伪色。"),t(221,"Color","HARD","在 ACES 工作流中，ACEScct 曲线相比 ACEScc 的主要改进是？",["增加趾部 (Toe) 特性","更大动态范围","更广色域","消除噪点","线性化","去除色彩"],"增加趾部 (Toe) 特性","ACEScc 是纯对数曲线，暗部由黑到极黑的过渡非常生硬。ACEScct 引入了'Toe'特性，让调色师在提升暗部（Lift）时手感更柔和，符合传统操作习惯。"),t(222,"Sensor","HARD","Canon 的 DGO (双增益输出) 技术与 Sony 的双原生 ISO (Dual Native ISO) 核心区别在于？",["单帧双增益合成","软件算法","动态范围更高","果冻效应加倍","DGO 是多帧合成","DGO 适合拍照"],"单帧双增益合成","双原生 ISO 是'二选一'电路（高感或低感）。DGO 则是'全都要'，对每个像素同时进行高增益（读取暗部）和低增益（读取亮部）读取，合成出一张超高动态范围的图像。"),t(223,"Audio","MEDIUM","为什么视频制作的标准采样率是 48kHz 而非音乐行业的 44.1kHz？",["易于与视频帧率整除同步","音质好一倍","记录对白","磁带限制","听感更好","CD 标准"],"易于与视频帧率整除同步","48000 能被 24, 25, 30 整除，方便音画同步时的采样点分割。而 44100 只有在 25fps 下甚至是整数。"),t(224,"Video","HARD","12G-SDI 接口的理论带宽上限足以传输什么规格的信号？",["4K 60p","8K 60p","1080p 240","4K 30p","1080p 60","8K 30p"],"4K 60p","12G-SDI 拥有 12Gbps 带宽，专为 4K 60p 设计。如果要传输 8K 或更高规格，通常需要使用 4 根 12G-SDI 并联 (Quad-Link)。"),t(225,"Optics","HARD","微距摄影中，当放大倍率达到 1:1 时，'有效光圈 (Effective Aperture)' 会发生什么变化？",["进光量减少2档","不变","增加","景深变深","进光量增加","景深变浅"],"进光量减少2档","随着像距大幅延长，光线在镜筒内衰减。1:1 放大倍率下，有效 F 值 = 设定 F 值 * (1 + 1) = 2倍，进光量只有原来的 1/4 (减 2 档)。"),t(226,"Post","HARD","在 8-bit 视频中，'Video Levels' (Legal Range) 的亮度量化范围是？",["16-235","0-255","0-100","64-940","10-250","128-255"],"16-235","广播电视标准保留了 0-15 和 236-255 作为超黑/超白信号的缓冲及同步信号空间。Full Range 才是 0-255。"),t(227,"Lighting","HARD","CRI (显色指数) 中的 R9 数值专门衡量光源对哪种颜色的还原能力？",["饱和红色","亚洲肤色","深蓝","叶绿","天空蓝","草地绿"],"饱和红色","普通 CRI (Ra) 仅计算 R1-R8 的平均值。许多劣质 LED 的 Ra 很高，但 R9 (红) 很低，导致拍出的人像肤色惨白或发绿。"),t(228,"Format","HARD","H.264/H.265 编码中的 'IDR 帧' (Instantaneous Decoder Refresh) 与普通 'I 帧' 的区别是？",["强制清空参考缓冲","画质差","不可搜索","无区别","体积最小","预测帧"],"强制清空参考缓冲","解码器遇到 IDR 帧会清空参考缓冲区。这确保了如果之前的视频流出错，IDR 帧可以立即阻断错误蔓延。"),t(229,"Sensor","HARD","堆栈式传感器 (Stacked CMOS) 相比背照式 (BSI) 最大的性能飞跃在于？",["读出速度","低感画质","色深","高感噪点","像素更高","色彩更好"],"读出速度","堆栈式在像素层后方直接集成了 DRAM 缓存电路，能以极高速度将数据暂存并读出。这是实现无果冻效应、超高速连拍 (如 A1, Z9) 的物理基础。"),t(230,"Optics","MEDIUM","关于 '法兰距 (Flange Distance)'，以下说法正确的是？",["短法兰距转接兼容性强","单反比无反短","决定传感器尺寸","长法兰距画质好","长法兰距更好","与传感器无关"],"短法兰距转接兼容性强","只要加一个厚度等于“法兰距差值”的转接环，短法兰距机身（如 Sony E）就能完美使用长法兰距镜头（如 Canon EF）。"),t(231,"Color","HARD","为什么 Rec.2020 色域的绿点位置被设计得非常'偏'？",["覆盖更多高饱和青绿色","省电","兼容CRT","减少数据","人眼对绿不敏感","制造难度低"],"覆盖更多高饱和青绿色","Rec.709 最大的短板是无法显示高饱和度的青色和绿色（如极光、绿松石）。Rec.2020 大幅扩展了这一区域。"),t(232,"Audio","MEDIUM","当两个频率极接近的声波叠加时，会产生周期性的音量忽大忽小现象，这被称为？",["拍音","梳状滤波","多普勒","相位失真","回声","混响"],"拍音","拍音频率等于两个声波频率之差。例如 440Hz 和 442Hz 叠加，会听到每秒 2 次的音量脉冲。"),t(233,"Video","MEDIUM","在使用 Log 拍摄时，监视器加载 LUT 仅仅是为了？",["仅改变监看画面","永久转换","增加动态范围","减少噪点","录制 Log","提高画质"],"仅改变监看画面","这是'监看 LUT'。它只改变屏幕显示，让画面反差正常、颜色正确，方便构图和曝光判断，但底层的录制文件依然是 Log 灰片。"),t(234,"Post","HARD","在 3D LUT 中，'33点' (33x33x33) 相比 '17点' 的优势是？",["插值精度更高","文件体积小","速度快","分辨率高","色彩更鲜艳","对比度更高"],"插值精度更高","点数越多，色彩空间的采样网格越密，非线性色彩变换（如胶片模拟）时的插值误差越小，色彩过渡越顺滑。"),t(235,"Optics","HARD","移轴镜头（Tilt-Shift）中的 Tilt（倾角）操作，其本质作用最准确的描述是？",["改变焦平面在空间中的方向","校正建筑摄影中的透视变形","扩大整体景深范围","通过裁切改变画面构图","调整镜头的等效焦距","提升画面中心锐度"],"改变焦平面在空间中的方向","Tilt 通过改变焦平面与成像面的几何关系（符合 Scheimpflug 定律），从而控制哪些区域同时合焦。"),t(236,"Sensor","HARD","部分电影机并未采用标准 4K 标称分辨率，其核心设计取舍更接近以下哪一项？",["优先单像素信噪比与动态范围","为了降低数据带宽与存储成本","出于后期流程与交付规格考虑","兼容早期数字中间片工作流","制造工艺尚未成熟"],"优先单像素信噪比与动态范围","在相同传感器尺寸下，较低像素密度可换取更大的单像素面积，从而提升信噪比和动态范围。"),t(237,"Mechanics","HARD","液压云台的 '动平衡 (Counterbalance)' 调节正确的标志是？",["任意角度悬停","阻尼最大","气泡居中","锁定"],"任意角度悬停","动平衡弹簧力抵消了相机的重力力矩。这让摄影师在运镜时无需用力对抗机器重量，起幅落幅极其丝滑，且松手后机器不会坠落。"),t(238,"Video","HARD","矢量示波器 (Vectorscope) 中，代表肤色的 I-Line 实际上对应的是？",["血红素颜色","黄色","黑色素","环境光颜色","衣服颜色"],"血红素颜色","无论人种肤色深浅，皮下毛细血管中血液的颜色是相同的。所以所有人的肤色在矢量图上都应该落在同一条相位线上。"),t(239,"Audio","MEDIUM","心形指向 (Cardioid) 麦克风最容易产生的'近讲效应 (Proximity Effect)'是指？",["低频提升","高频增强","噪音变大","声音变干","高频衰减","底噪增加"],"低频提升","这是指向性麦克风的物理特性。声源越靠近，低频越多。利用这一点可以让人声变得磁性厚重（广播腔）。"),t(240,"Color","HARD","在 Davinci Resolve 中，'Color Space Transform (CST)' 的主要作用是？",["数学映射转换","自动调色","降噪","锐化","添加胶片颗粒"],"数学映射转换","相比 LUT，CST 是基于纯数学公式的转换，不损失精度，不裁切数据，是现代色彩管理流程的核心工具。"),t(241,"Optics","MEDIUM","关于 '呼吸效应 (Focus Breathing)'，以下描述正确的是？",["调焦时视场角变化","光圈变化","变暗","重影","色温变化","曝光变化"],"调焦时视场角变化","在切换焦点时，如果画面边缘忽大忽小，会严重破坏电影的沉浸感。电影镜头通常对此有专门的光学矫正。"),t(242,"Video","HARD","ProRes 4444 XQ 的 Alpha 通道位深是多少？",["16-bit","8-bit","10-bit","1-bit","12-bit","无Alpha"],"16-bit","ProRes 4444 支持高达 16-bit 的 Alpha 通道，这对于需要半透明叠加（如烟雾、玻璃、动态模糊）的特效合成至关重要。"),t(243,"Sensor","HARD","拜耳阵列去马赛克 (Demosaicing) 过程中，最容易产生的伪影是？",["拉链与伪色","马赛克块","模糊","暗角","黑屏","死点"],"拉链与伪色","在处理高频细节（如黑白密线条）时，插值算法容易误判，导致边缘出现拉链状锯齿或错误的杂色（摩尔纹的成因之一）。"),t(244,"Lighting","HARD","钨丝灯 (Tungsten) 在调暗 (Dimming) 时，色温会？",["色温变暖","变冷","不变","闪烁"],"色温变暖","这是黑体辐射的物理特性。电压降低，灯丝温度下降，光谱向红端移动。"),t(245,"Audio","MEDIUM","'幻象电源' 为什么叫 '幻象 (Phantom)'？",["直流电对音频不可见","无线","高压","交流电","高频信号"],"直流电对音频不可见","48V 电压同时加载在 Hot 和 Cold 两端。对于动圈麦克风或变压器来说，两端电势差为 0，没有电流流过线圈。"),t(246,"Optics","HARD","APO (复消色差) 镜头的定义是？",["校正三种波长色差","两种波长","透光100%","校正畸变","增加透光"],"校正三种波长色差","普通消色差 (Achromat) 只能校正两种颜色（通常红蓝）。APO 镜头通过特殊玻璃将中间色（绿）也校正到同一点。"),t(247,"Video","HARD","在使用 '快门开角 (Shutter Angle)' 而非 '快门速度' 时，改变帧率 (如从 24fps 升格到 60fps)，曝光量会？",["单帧曝光时间改变","运动模糊消失","画面变暗"],"单帧曝光时间改变","保持 180° 开角意味着快门时间始终是帧率的 1/2。60fps 时快门是 1/120s，比 24fps 时的 1/48s 进光量少很多。"),t(248,"Post","HARD","在 ACES 工作流中，ODT (Output Device Transform) 的作用是？",["映射至显示设备空间","输入原始数据","调色","降噪","输入转换","色彩分级"],"映射至显示设备空间","ODT 是流程的出口。它负责 Tone Mapping (色调映射)，把拥有巨大动态范围的 ACES 数据'压缩'进有限的屏幕容器中。"),t(249,"Sensor","HARD","Sony A7S3 的 '9.44M 点' EVF 实际像素分辨率大约是？",["QXGA (2048 x 1536)","4K (3840 x 2160)","Full HD (1920 x 1080)","800 x 600","8K","720p"],"QXGA (2048 x 1536)","厂商宣传的 '点 (Dot)' 包含 R,G,B 三个子像素。9,440,000 Dots / 3 ≈ 3,146,666 Pixels。这大约对应 QXGA 分辨率。"),L(251,"Optics","EASY","以下哪些是“定焦镜头 (Prime Lens)”通常具备的优势？",["光圈更大","光学素质更高","体积更小巧","构图更灵活","对焦更慢","价格更贵"],["光圈更大","光学素质更高","体积更小巧"],"定焦结构简单，容易做大光圈和高画质。变焦镜头构图灵活，但定焦通常不具备此优势。"),t(252,"Sensor","MEDIUM","ISO 100 和 ISO 6400 相比，哪一个动态范围更高（假设单原生ISO）？",["ISO 100","ISO 6400","一样高","取决于镜头"],"ISO 100","通常情况下，ISO 越低，信噪比越高，动态范围（宽容度）越大。提高 ISO 会引入噪点，侵蚀暗部动态范围。"),t(253,"Audio","EASY","在室外大风环境录音，最有效的物理降噪配件是？",["防风毛衣","海绵套","降噪插件","指向性麦克风","低切滤波器","限制器"],"防风毛衣","长毛防风罩（毛衣）能有效缓冲风力冲击。海绵套仅适用于室内防喷麦或微风。"),t(254,"Lighting","EASY","硬光 (Hard Light) 的主要特征是？",["阴影边缘清晰锐利","阴影边缘模糊","色温偏冷","色彩饱和度低"],"阴影边缘清晰锐利","点光源（如晴天太阳、裸灯）产生硬光，特征是影子黑、边缘硬，质感强烈但容易暴露皮肤瑕疵。"),L(255,"Video","EASY","常见的无损音频编码格式包括？",["WAV","FLAC","MP3","AAC","OGG","WMA"],["WAV","FLAC"],"WAV (LPCM) 和 FLAC 是无损格式。MP3 和 AAC 是有损压缩格式。"),t(256,"Post","MEDIUM","白平衡中的“色调 (Tint)”主要是调节哪两种颜色的平衡？",["绿与洋红","黑与白","青与黄","洋红与黄"],"绿与洋红","色温 (Temp) 调节蓝黄平衡，色调 (Tint) 调节绿品（洋红）平衡。"),t(257,"Video","EASY","延时摄影 (Timelapse) 的本质是？",["低帧率拍摄，高帧率播放","高帧率拍摄，低帧率播放","实时记录","慢动作回放","倒放"],"低帧率拍摄，高帧率播放","例如每 5 秒拍一张，最后以 24fps 播放，时间被高度压缩，云彩流动变快。"),t(258,"Optics","EASY","UV 镜的主要现代用途是？",["保护镜头前组镜片","过滤紫外线提升画质","消除反光","增加饱和度","偏振光过滤"],"保护镜头前组镜片","数码传感器对紫外线不敏感，且前置滤镜已集成 UV 截止功能。现代 UV 镜主要起物理保护作用（防刮、防尘）。"),t(259,"Sensor","EASY","“半画幅”通常指哪种传感器规格？",["APS-C","Micro 4/3","1英寸","Super 16"],"APS-C","APS-C 尺寸约为全画幅的一半（面积约 43%），常被称为半画幅。"),L(260,"Camera","MEDIUM","以下哪些操作可以减少照片糊片（模糊）？",["提高快门速度","使用三脚架","开启防抖","缩小光圈","降低 ISO","使用大光圈"],["提高快门速度","使用三脚架","开启防抖"],"糊片通常由抖动或物体运动引起。光圈与景深有关，缩小光圈反而会降低快门速度，增加糊片风险。"),t(261,"Lighting","EASY","色温 6500K 的光线通常被描述为？",["冷白光","暖黄光","红光","绿光","烛光","夕阳"],"冷白光","6500K (D65) 是标准的冷日光色温。"),t(262,"Video","MEDIUM","常用于绿幕抠像的背景布为什么选绿色？",["人肤色中绿色成分最少","绿色反光率最高","绿色代表数字信号","绿色光照需求低"],"人肤色中绿色成分最少","数字传感器对绿色最敏感（拜耳阵列绿色占一半），且人肤色是橙红色调，与绿色反差最大，最容易分离。"),t(263,"Post","EASY","直方图 (Histogram) 最右侧代表画面的？",["纯白 (高光)","纯黑 (暗部)","中间调","饱和度","死黑","Gamma 值"],"纯白 (高光)","直方图从左到右分别代表：黑 -> 灰 -> 白。最右侧有大量像素堆积意味着高光过曝。"),L(264,"Optics","MEDIUM","微距镜头 (Macro) 除了拍微距，还常用于？",["人像摄影","产品静物","体育摄影","建筑摄影","街拍","风光"],["人像摄影","产品静物"],"微距镜头通常解析力极高，且焦段（90mm/100mm）适合人像和静物特写。对焦慢不适合体育，视角窄不适合建筑。"),t(265,"Video","MEDIUM","果冻效应 (Jello Effect) 在哪种拍摄场景下最明显？",["快速摇摄","固定机位拍摄静物","慢动作回放","夜景长曝光","慢动作"],"快速摇摄","卷帘快门逐行扫描的时间差，在画面横向快速移动时，会导致竖直线条倾斜。"),t(266,"Audio","EASY","XLR 接口相比 3.5mm 接口的主要优势是？",["抗干扰","体积更小","更便宜","接口通用性强"],"抗干扰","XLR 是专业音频标准接口，平衡信号能抵消长距离传输的底噪干扰。"),t(267,"Video","MEDIUM","升格拍摄 (Slow Motion) 需要满足的物理条件是？",["记录帧率 > 播放帧率","记录帧率 < 播放帧率","快门速度很慢","光圈很小"],"记录帧率 > 播放帧率","例如以 60fps 拍摄，以 24fps 播放，画面被放慢了 2.5 倍。"),t(268,"Lighting","EASY","柔光箱 (Softbox) 的作用是？",["增大光源面积，柔化阴影","聚焦光线，增加亮度","改变光线颜色","产生硬光","改变色温"],"增大光源面积","通过柔光布将点光源扩散为面光源。光源相对面积越大，光线越柔和。"),t(269,"Sensor","HARD","堆栈式传感器 (Stacked) 的“堆栈”指的是什么结构？",["像素层与逻辑电路/缓存层垂直堆叠","多块传感器水平拼接","滤镜堆叠","拜耳阵列堆叠"],"像素层与逻辑电路/缓存层垂直堆叠","通过将高速信号处理电路和 DRAM 缓存直接堆叠在感光层背面，极大缩短了数据传输路径，实现极速读出。"),t(270,"Optics","EASY","广角镜头特有的透视变形表现为？",["近大远小夸张，边缘拉伸","空间压缩，背景拉近","画面扁平","压缩","枕形畸变"],"近大远小夸张，边缘拉伸","广角镜头会夸大前景与背景的距离感，且画面边缘的物体会被拉长（如把腿拍长）。"),t(271,"Exposure","EASY","ISO 越高，照片会？",["更亮，但噪点更多","更暗，画质更好","更清晰，无噪点","颜色更鲜艳"],"更亮，但噪点更多","ISO 是电子增益，提高亮度的同时也放大了杂讯信号。"),t(272,"Exposure","EASY","B 门 (Bulb Mode) 的作用是？",["按下快门一直曝光，直到松手","自动曝光","连拍模式","闪光灯模式"],"按下快门一直曝光，直到松手","用于超长曝光（如拍摄星轨、烟花），曝光时间由摄影师手动控制。"),t(273,"Color","EASY","白平衡数值越高（如 8000K），画面色调会？",["偏暖（黄/红）","偏冷（蓝）","偏绿","偏紫"],"偏暖（黄/红）","为了中和冷色温的光线（如阴天），相机会增加暖色调。手动设置高K值会让画面变暖。"),t(274,"Optics","EASY","50mm F1.8 镜头通常被称作？",["小痰盂","大三元","小钢炮","饼干头"],"小痰盂","佳能经典的 50mm F1.8 镜头外形酷似痰盂，因此得名，泛指廉价高画质标头。"),t(275,"Sensor","EASY","M43 画幅的传感器面积大约是全画幅的？",["1/4","1/2","1/3","1/1.5"],"1/4","M43 的长宽约为全画幅的一半，面积约为 1/4，等效系数为 2.0x。")],De=({totalQuestions:s,onStart:r,onOpenEditor:d,onDownloadCsv:x})=>{const[g,y]=b.useState(10),[j,C]=b.useState("10"),[E,v]=b.useState({easy:30,medium:50,hard:20}),M=c=>{const m=Math.min(c,s);y(m),C(m.toString())},N=c=>{C(c);const m=parseInt(c);!isNaN(m)&&m>0&&y(Math.min(m,s))},f=()=>{let c=parseInt(j);(isNaN(c)||c<1)&&(c=5),c>s&&(c=s),C(c.toString()),y(c)},w=(c,m)=>{v(D=>({...D,[c]:m}))};return e.jsxs("div",{className:"max-w-3xl w-full text-center space-y-8 animate-in fade-in zoom-in duration-500 relative",children:[e.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white rounded-lg text-xs font-bold transition-all border border-slate-700",title:"导出题库 CSV",children:[e.jsx(Ae,{size:14})," Export"]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-cyan-400 hover:text-cyan-300 rounded-lg text-xs font-bold transition-all border border-slate-700",title:"打开编辑器",children:[e.jsx(Z,{size:14})," Editor"]})]}),e.jsxs("div",{className:"w-32 h-32 bg-slate-900 rounded-full flex items-center justify-center mx-auto border-4 border-slate-800 shadow-2xl relative",children:[e.jsx(ee,{size:64,className:"text-cyan-400"}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black text-xs font-bold px-3 py-1 rounded-full border-2 border-slate-900",children:"PRO"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4 tracking-tight",children:"全能摄影知识挑战"}),e.jsxs("p",{className:"text-slate-400 text-lg max-w-lg mx-auto leading-relaxed",children:["当前题库共有 ",e.jsx("span",{className:"text-white font-bold",children:s})," 道精选题。",e.jsx("br",{}),"包含单选、多选、排序、填空及",e.jsx("span",{className:"text-yellow-400 font-bold",children:"全新连线题"}),"。"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center justify-center gap-2",children:[e.jsx(te,{size:12})," 选择题目数量"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:[5,10,20].map(c=>e.jsx("button",{onClick:()=>M(c),className:`flex-1 py-3 rounded-lg font-bold transition-all ${g===c?"bg-cyan-600 text-white shadow-lg shadow-cyan-900/50":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:c},c))}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xs text-slate-500 font-bold uppercase",children:"Custom"}),e.jsx("input",{type:"number",min:"1",max:s,value:j,onChange:c=>N(c.target.value),onBlur:f,className:"w-full bg-slate-950 border border-slate-700 rounded-lg py-3 pl-20 pr-16 text-white font-mono font-bold focus:border-cyan-500 focus:outline-none transition-colors"}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-600",children:["/ ",s]})]})]})]}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center justify-center gap-2",children:[e.jsx(we,{size:12})," 难度分布 (%)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-bold text-emerald-400 w-12 text-right",children:"EASY"}),e.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:E.easy,onChange:c=>w("easy",parseInt(c.target.value)),className:"flex-1 accent-emerald-500 h-1.5 bg-slate-700 rounded-full appearance-none"}),e.jsxs("span",{className:"text-xs font-mono w-8 text-right",children:[E.easy,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-bold text-cyan-400 w-12 text-right",children:"MED"}),e.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:E.medium,onChange:c=>w("medium",parseInt(c.target.value)),className:"flex-1 accent-cyan-500 h-1.5 bg-slate-700 rounded-full appearance-none"}),e.jsxs("span",{className:"text-xs font-mono w-8 text-right",children:[E.medium,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-bold text-red-400 w-12 text-right",children:"HARD"}),e.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:E.hard,onChange:c=>w("hard",parseInt(c.target.value)),className:"flex-1 accent-red-500 h-1.5 bg-slate-700 rounded-full appearance-none"}),e.jsxs("span",{className:"text-xs font-mono w-8 text-right",children:[E.hard,"%"]})]}),e.jsx("div",{className:"text-[10px] text-slate-500 text-right italic",children:"*系统会尽量接近所选比例"})]})]})]}),e.jsxs("button",{onClick:()=>r(g,E),className:"group relative inline-flex items-center justify-center px-12 py-5 font-bold text-white transition-all duration-200 bg-gradient-to-r from-cyan-600 to-blue-600 rounded-full focus:outline-none hover:scale-105 shadow-[0_0_30px_rgba(8,145,178,0.4)] text-xl mt-4",children:[e.jsx(se,{className:"mr-2 fill-current"})," 开始挑战"]})]})},B=[{border:"border-cyan-500",bg:"bg-cyan-950/60",text:"text-cyan-200",badge:"bg-cyan-500 text-black"},{border:"border-purple-500",bg:"bg-purple-950/60",text:"text-purple-200",badge:"bg-purple-500 text-white"},{border:"border-emerald-500",bg:"bg-emerald-950/60",text:"text-emerald-200",badge:"bg-emerald-500 text-black"},{border:"border-orange-500",bg:"bg-orange-950/60",text:"text-orange-200",badge:"bg-orange-500 text-black"},{border:"border-pink-500",bg:"bg-pink-950/60",text:"text-pink-200",badge:"bg-pink-500 text-white"}],Q=s=>{const r=[...s];for(let d=r.length-1;d>0;d--){const x=Math.floor(Math.random()*(d+1));[r[d],r[x]]=[r[x],r[d]]}return r},ve=({question:s,isRevealed:r,onSubmit:d})=>{const[x,g]=b.useState([]),[y,j]=b.useState(null),[C,E]=b.useState([]),[v,M]=b.useState([]),[N,f]=b.useState({}),[w,c]=b.useState(null),[m,D]=b.useState(""),[p,u]=b.useState(0);b.useEffect(()=>{if(s.type==="SINGLE"||s.type==="MULTI"||s.type==="TRUE_FALSE")g(Q([...s.options]));else if(s.type==="MATCHING")g(Q([...s.correctAnswer]));else if(s.type==="ORDER")M(Q([...s.options]));else if(s.type==="INTERACTIVE"&&s.interactive){const{min:n,max:a}=s.interactive;let l=n+(a-n)/2;Math.abs(l-s.interactive.correctValue)<(a-n)*.1&&(l=n),u(Math.floor(l))}j(null),E([]),f({}),c(null),D("")},[s]);const A=()=>{var o;if(r)return;let n=0,a="WRONG";const l=10;let i=!1;if(s.type==="SINGLE"||s.type==="TRUE_FALSE"){if(y&&(i=!0),i){const h=y===s.correctAnswer;n=h?l:0,a=h?"CORRECT":"WRONG"}}else if(s.type==="MULTI"){if(C.length>0&&(i=!0),i){const h=C.map(U=>x[U]),S=s.correctAnswer,T=h.filter(U=>!S.includes(U)),k=h.filter(U=>S.includes(U));T.length>0?(n=0,a="WRONG"):k.length===S.length?(n=l,a="CORRECT"):k.length>0&&(n=Math.floor(k.length/S.length*l),a="PARTIAL")}}else if(s.type==="ORDER"){i=!0;const h=s.correctAnswer,S=JSON.stringify(v)===JSON.stringify(h);n=S?l:0,a=S?"CORRECT":"WRONG"}else if(s.type==="MATCHING"){if(Object.keys(N).length===s.options.length&&(i=!0),i){let h=0;const S=s.options.length,T=s.correctAnswer;Object.keys(N).forEach(k=>{const U=Number(k),H=N[U];x[H]===T[U]&&h++}),h===S?(n=l,a="CORRECT"):h>0&&(n=Math.floor(h/S*l),a="PARTIAL")}}else if(s.type==="FILL_BLANK"){if(m.trim().length>0&&(i=!0),i){const h=m.trim().toLowerCase(),T=(((o=s.acceptedAnswers)==null?void 0:o.map(k=>k.toLowerCase()))||[]).includes(h);n=T?l:0,a=T?"CORRECT":"WRONG"}}else if(s.type==="INTERACTIVE"&&s.interactive){i=!0;const S=Math.abs(p-s.interactive.correctValue)<=s.interactive.tolerance;n=S?l:0,a=S?"CORRECT":"WRONG"}i&&d(n,a)};b.useEffect(()=>{if(r)return;const n=a=>{const l=a.key;if(l==="Enter"&&(a.preventDefault(),A()),/^[1-9]$/.test(l)){const i=parseInt(l)-1;s.type==="SINGLE"||s.type==="TRUE_FALSE"?i<x.length&&j(x[i]):s.type==="MULTI"&&i<x.length&&E(o=>o.includes(i)?o.filter(h=>h!==i):[...o,i])}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[r,s,x,y,C,N,v,m,p]);const I=(n,a)=>{if(!r){if(n==="LEFT")if(N[a]!==void 0){const l={...N};delete l[a],f(l),c(a)}else c(a);else if(w!==null){const l=Object.keys(N).find(o=>N[Number(o)]===a),i={...N};l&&delete i[Number(l)],i[w]=a,f(i),c(null)}}},R=(n,a)=>{if(r)return;const l=[...v],i=n+a;i<0||i>=l.length||([l[n],l[i]]=[l[i],l[n]],M(l))};if(s.type==="SINGLE"||s.type==="TRUE_FALSE")return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`grid gap-3 ${s.type==="TRUE_FALSE"?"grid-cols-2":"grid-cols-1 md:grid-cols-2"}`,children:x.map((n,a)=>{const l=n===s.correctAnswer,i=y===n;let o="bg-slate-800 border-slate-700 hover:bg-slate-700 text-slate-300";return r?l?o="bg-emerald-900/40 border-emerald-500 text-white":i&&!l?o="bg-red-900/40 border-red-500 text-red-200 opacity-80":o="bg-slate-900 border-slate-800 text-slate-600 opacity-40":i&&(o="bg-cyan-900/40 border-cyan-500 text-white shadow-[0_0_15px_rgba(6,182,212,0.2)]"),e.jsxs("button",{onClick:()=>!r&&j(n),disabled:r,className:`p-4 rounded-xl border-2 text-left font-bold transition-all flex items-center justify-between group relative overflow-hidden ${o}`,children:[e.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[e.jsx("span",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-mono border ${i?"border-cyan-400 text-cyan-400":"border-slate-600 text-slate-500"}`,children:a+1}),e.jsx("span",{children:n})]}),r&&l&&e.jsx(X,{className:"text-emerald-500 relative z-10",size:20}),r&&i&&!l&&e.jsx(K,{className:"text-red-500 relative z-10",size:20})]},a)})}),!r&&y&&e.jsxs("button",{onClick:A,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-xl transition-all shadow-lg flex items-center justify-center gap-2 animate-in fade-in slide-in-from-bottom-2",children:["确认提交 (Confirm) ",e.jsx("span",{className:"text-[10px] bg-black/20 px-1.5 rounded opacity-70",children:"Enter"})]})]});if(s.type==="MULTI")return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-xs text-slate-400 font-bold mb-2 flex items-center gap-2",children:[e.jsx(re,{size:14,className:"text-cyan-400"})," 选择所有正确选项 (错选不得分)"]}),e.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:x.map((n,a)=>{const l=C.includes(a),i=s.correctAnswer.includes(n);let o="bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700";return l&&!r&&(o="bg-cyan-900/30 border-cyan-500 text-white"),r&&(l&&i?o="bg-emerald-900/40 border-emerald-500 text-white":l&&!i?o="bg-red-900/40 border-red-500 text-red-200":!l&&i?o="bg-yellow-900/30 border-yellow-500 text-yellow-200":o="bg-slate-900 border-slate-800 opacity-30"),e.jsxs("button",{onClick:()=>!r&&E(h=>h.includes(a)?h.filter(S=>S!==a):[...h,a]),disabled:r,className:`p-4 rounded-xl border-2 text-left font-bold transition-all flex items-center gap-3 ${o}`,children:[e.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center text-xs font-mono border shrink-0 ${l?"border-cyan-400 text-cyan-400":"border-slate-600 text-slate-500"}`,children:a+1}),e.jsx("div",{className:"flex-1 leading-tight",children:n}),r&&i&&!l&&e.jsx(pe,{size:16,className:"text-yellow-500"}),r&&i&&l&&e.jsx(X,{size:16,className:"text-emerald-500"}),r&&l&&!i&&e.jsx(K,{size:16,className:"text-red-500"})]},a)})}),e.jsxs("button",{onClick:A,disabled:r||C.length===0,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-all shadow-lg flex items-center justify-center gap-2",children:["提交答案 (Submit) ",!r&&e.jsx("span",{className:"text-[10px] bg-black/20 px-1.5 rounded opacity-70",children:"Enter"})]})]});if(s.type==="MATCHING")return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[e.jsx(Ee,{size:14,className:"text-cyan-400"})," 配对模式：点击左侧选中，再点击右侧目标。"]}),e.jsxs("div",{className:"flex flex-row gap-2 md:gap-8",children:[e.jsx("div",{className:"flex-1 space-y-2",children:s.options.map((n,a)=>{const l=N[a]!==void 0,i=w===a,o=l?B[a%B.length]:null;return e.jsxs("button",{onClick:()=>I("LEFT",a),disabled:r,className:`w-full p-2 md:p-3 rounded-xl border-2 text-left text-xs transition-all relative flex items-center gap-2 ${i?"border-white bg-slate-700 text-white shadow-lg scale-105 z-10":l?`${o==null?void 0:o.border} ${o==null?void 0:o.bg} ${o==null?void 0:o.text}`:"border-slate-700 bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center text-[10px] font-bold shrink-0 ${l?o==null?void 0:o.badge:"bg-slate-600 text-slate-300"}`,children:String.fromCharCode(65+a)}),e.jsx("span",{className:"leading-tight",children:n})]},a)})}),e.jsx("div",{className:"flex-1 space-y-2",children:x.map((n,a)=>{const l=Object.keys(N).find(S=>N[Number(S)]===a),i=l!==void 0,o=i?B[Number(l)%B.length]:null;let h="";if(r&&i){const S=s.correctAnswer[Number(l)];h=n===S?"ring-2 ring-emerald-500 ring-offset-2 ring-offset-slate-900":"ring-2 ring-red-500 ring-offset-2 ring-offset-slate-900 opacity-50 grayscale"}return e.jsxs("button",{onClick:()=>I("RIGHT",a),disabled:r,className:`w-full p-2 md:p-3 rounded-xl border-2 text-left text-xs transition-all flex items-center gap-2 justify-between ${r?h:""} ${i?`${o==null?void 0:o.border} ${o==null?void 0:o.bg} ${o==null?void 0:o.text}`:"border-slate-700 bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:[e.jsx("span",{className:"leading-tight flex-1",children:n}),i?e.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center text-[10px] font-bold shrink-0 ${o==null?void 0:o.badge}`,children:String.fromCharCode(65+Number(l))}):e.jsx("div",{className:"w-5 h-5 rounded border border-slate-600 bg-slate-900/50"})]},a)})})]}),e.jsx("button",{onClick:A,disabled:r||Object.keys(N).length!==s.options.length,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-all shadow-lg flex items-center justify-center gap-2",children:"提交连线 (Submit)"}),r&&e.jsxs("div",{className:"text-xs p-3 bg-slate-900 rounded border border-slate-800 grid gap-2",children:[e.jsx("strong",{className:"text-emerald-400 border-b border-slate-700 pb-1 block",children:"正确配对："}),s.options.map((n,a)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-slate-400 font-bold mr-2",children:[String.fromCharCode(65+a),". ",n]}),e.jsx("span",{className:"text-slate-600",children:"→"}),e.jsx("span",{className:"text-white text-right",children:s.correctAnswer[a]})]},a))]})]});if(s.type==="ORDER")return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:v.map((n,a)=>e.jsxs("div",{className:`p-3 rounded-xl border-2 bg-slate-800 border-slate-700 flex items-center gap-4 transition-all ${r?JSON.stringify(v)===JSON.stringify(s.correctAnswer)?"border-emerald-500":"border-red-500":""}`,children:[e.jsxs("div",{className:"text-slate-500 font-mono font-bold w-6",children:["#",a+1]}),e.jsx("div",{className:"flex-1 font-bold text-white text-sm",children:n}),!r&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{onClick:()=>R(a,-1),disabled:a===0,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white disabled:opacity-20",children:e.jsx(oe,{size:16})}),e.jsx("button",{onClick:()=>R(a,1),disabled:a===v.length-1,className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white disabled:opacity-20",children:e.jsx(ae,{size:16})})]})]},n))}),e.jsxs("button",{onClick:A,disabled:r,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg flex items-center justify-center gap-2",children:["确认顺序 (Confirm) ",!r&&e.jsx("span",{className:"text-[10px] bg-black/20 px-1.5 rounded opacity-70",children:"Enter"})]}),r&&e.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-900 rounded border border-slate-800",children:[e.jsx("strong",{className:"text-emerald-400",children:"正确顺序："})," ",s.correctAnswer.join(" → ")]})]});if(s.type==="FILL_BLANK")return e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:m,onChange:n=>D(n.target.value),disabled:r,placeholder:"输入答案...",className:`w-full bg-slate-900 border-2 rounded-xl p-4 text-lg text-white outline-none transition-all placeholder-slate-600 ${r?"border-slate-700":"border-slate-700 focus:border-cyan-500"}`,autoFocus:!0}),e.jsxs("button",{onClick:A,disabled:r||!m.trim(),className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg flex items-center justify-center gap-2",children:["提交 (Submit) ",!r&&e.jsx("span",{className:"text-[10px] bg-black/20 px-1.5 rounded opacity-70",children:"Enter"})]}),r&&e.jsxs("div",{className:"p-3 bg-slate-800 border border-slate-700 rounded text-sm",children:[e.jsx("span",{className:"font-bold text-slate-400",children:"参考答案："})," ",e.jsx("span",{className:"text-white",children:s.correctAnswer})]})]});if(s.type==="INTERACTIVE"&&s.interactive){const n=s.interactive,l=Math.abs(p-n.correctValue)<=n.tolerance;let i="bg-slate-700";return n.visual==="COLOR_TEMP"&&(p<4e3?i="bg-orange-500":p>7e3?i="bg-blue-500":i="bg-white"),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6 bg-slate-900 rounded-xl border border-slate-800 p-4",children:[e.jsxs("div",{className:`w-20 h-20 rounded-full shadow-[0_0_30px_currentColor] transition-colors duration-300 ${i} ${n.visual==="COLOR_TEMP"?"text-transparent":"text-slate-900"} flex items-center justify-center shrink-0`,children:[n.visual==="SHUTTER"&&e.jsx(J,{size:24,className:"text-white"}),n.visual==="FOCAL_LENGTH"&&e.jsxs("div",{className:"text-white font-bold text-xs",children:[p,"mm"]}),n.visual==="ISO"&&e.jsx("div",{className:"text-white font-bold text-xs",children:"ISO"}),n.visual==="AUDIO_HZ"&&e.jsx("div",{className:"text-white font-bold text-[10px]",children:"AUDIO"})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 block",children:"调整数值"}),e.jsxs("span",{className:"text-[10px] text-slate-500",children:["允许误差: ±",n.tolerance," ",n.unit]})]}),e.jsxs("span",{className:`text-xl font-mono font-bold ${r?l?"text-emerald-400":"text-red-400":"text-cyan-400"}`,children:[p," ",e.jsx("span",{className:"text-sm text-slate-500",children:n.unit})]})]}),e.jsx("input",{type:"range",min:n.min,max:n.max,step:n.step,value:p,onChange:o=>u(Number(o.target.value)),disabled:r,className:"w-full h-2 bg-slate-700 rounded-full appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"flex justify-between text-[9px] text-slate-600 font-mono",children:[e.jsx("span",{children:n.min}),e.jsx("span",{children:n.max})]})]})]}),e.jsxs("button",{onClick:A,disabled:r,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg flex items-center justify-center gap-2",children:["确认数值 (Confirm) ",!r&&e.jsx("span",{className:"text-[10px] bg-black/20 px-1.5 rounded opacity-70",children:"Enter"})]}),r&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-3 bg-slate-800 border border-slate-700 rounded text-sm flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-400",children:"正确数值："}),e.jsxs("span",{className:"font-mono font-bold text-emerald-400",children:[n.correctValue," ",n.unit]})]}),!l&&e.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-500/30 rounded text-xs text-yellow-200",children:[e.jsx("strong",{children:"提示："})," 您的选择偏",p>n.correctValue?"高":"低","了 ",Math.abs(p-n.correctValue)," ",n.unit,"。"]})]})]})}return null},Re=({questions:s,onFinish:r})=>{const[d,x]=b.useState(0),[g,y]=b.useState(0),[j,C]=b.useState([]),[E,v]=b.useState(45),[M,N]=b.useState(!1),[f,w]=b.useState(0),c=b.useRef(null),m=s[d];b.useEffect(()=>{N(!1),w(0),v(45)},[d]),b.useEffect(()=>(!M&&E>0&&(c.current=window.setInterval(()=>{v(u=>u<=1?(D(0,"WRONG"),0):u-1)},1e3)),()=>{c.current&&clearInterval(c.current)}),[M,E]),b.useEffect(()=>{const u=A=>{A.key==="Enter"&&M&&(A.preventDefault(),p())};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[M,d]);const D=(u,A)=>{N(!0),w(u),y(I=>I+u),C(I=>[...I,A])},p=()=>{d<s.length-1?x(u=>u+1):r(g,j)};return e.jsxs("div",{className:"w-full h-full flex flex-col relative overflow-hidden",children:[e.jsxs("div",{className:"w-full max-w-3xl mx-auto pt-4 pb-4 px-4 shrink-0 z-10 bg-slate-950/80 backdrop-blur-sm sticky top-0",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsxs("div",{className:"text-sm font-bold text-slate-400",children:["Question ",e.jsx("span",{className:"text-white text-xl",children:d+1}),e.jsxs("span",{className:"text-slate-600",children:["/",s.length]})]}),e.jsxs("div",{className:`flex items-center gap-2 font-mono text-xl font-bold ${E<10?"text-red-500 animate-pulse":"text-slate-200"}`,children:[e.jsx(J,{size:20})," ",E,"s"]})]}),e.jsx("div",{className:"flex w-full gap-[2px] h-1.5 rounded-full overflow-hidden",children:s.map((u,A)=>{const I=j[A];let R="bg-slate-800";return A===d?R="bg-white animate-pulse":I==="CORRECT"?R="bg-emerald-500":I==="PARTIAL"?R="bg-yellow-500":I==="WRONG"&&(R="bg-red-500"),e.jsx("div",{className:`flex-1 transition-all duration-300 rounded-sm ${R}`},A)})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar w-full",children:e.jsx("div",{className:"min-h-full flex flex-col justify-center items-center p-4 pb-20",children:e.jsxs("div",{className:"w-full max-w-3xl animate-in slide-in-from-right-8 duration-300",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"inline-block px-3 py-1 text-[10px] font-bold tracking-wider text-cyan-400 uppercase bg-cyan-900/20 rounded-full border border-cyan-900/50",children:m.category}),e.jsx("span",{className:`inline-block px-3 py-1 text-[10px] font-bold tracking-wider uppercase rounded-full border ${m.difficulty==="EASY"?"text-emerald-400 bg-emerald-900/20 border-emerald-900/50":m.difficulty==="MEDIUM"?"text-cyan-400 bg-cyan-900/20 border-cyan-900/50":"text-red-400 bg-red-900/20 border-red-900/50"}`,children:m.difficulty}),e.jsx("span",{className:"inline-block px-3 py-1 text-[10px] font-bold tracking-wider text-purple-400 uppercase bg-purple-900/20 rounded-full border border-purple-900/50",children:m.type})]}),e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white leading-tight",children:m.question})]}),e.jsx("div",{className:"mb-6",children:e.jsx(ve,{question:m,isRevealed:M,onSubmit:D})}),M&&e.jsxs("div",{className:"bg-slate-800/80 border border-slate-600 p-4 rounded-xl animate-in fade-in slide-in-from-bottom-4 backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-slate-700 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-lg font-bold ${f===10?"text-emerald-400":f>0?"text-yellow-400":"text-red-400"}`,children:[f>0?`+${f}`:"0"," 分"]}),f>0&&f<10&&e.jsx("span",{className:"text-[10px] bg-yellow-900/30 text-yellow-200 px-1.5 py-0.5 rounded border border-yellow-500/20",children:"部分得分"})]}),e.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[e.jsx(Ne,{size:12})," Press Enter for Next"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fe,{className:"text-cyan-400 shrink-0 mt-0.5",size:16}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white text-xs mb-1",children:"技术解析"}),e.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:m.explanation})]})]}),e.jsxs("button",{onClick:p,className:"w-full mt-4 py-3 bg-white hover:bg-slate-200 text-black font-bold rounded-lg transition-colors flex items-center justify-center gap-2 shadow-lg text-sm",children:[d===s.length-1?"查看成绩":"下一题"," ",e.jsx(q,{size:16})]})]})]},d)})})]})},ke=s=>s===100?{title:"光影宗师 (Legend)",color:"text-yellow-400",desc:"无懈可击！您就是行走的摄影百科全书。"}:s>=90?{title:"资深专家 (Master)",color:"text-red-400",desc:"极其扎实的理论功底，距离封神仅一步之遥。"}:s>=80?{title:"职业摄影师 (Pro)",color:"text-purple-400",desc:"非常专业，这些知识对您来说已经是肌肉记忆。"}:s>=60?{title:"摄影发烧友 (Enthusiast)",color:"text-emerald-400",desc:"基础不错！继续积累经验，进阶指日可待。"}:s>=40?{title:"入门学徒 (Apprentice)",color:"text-blue-400",desc:"还在学习路上。建议多复习基础光学和曝光原理。"}:{title:"摄影萌新 (Newbie)",color:"text-slate-400",desc:"万丈高楼平地起，建议先从核心概念学起。"},Le=({score:s,totalQuestions:r,correctCount:d,maxScore:x,onRestart:g,questions:y,history:j})=>{const C=Math.round(s/x*100),E=ke(C),v=b.useMemo(()=>{const M={EASY:{total:0,correct:0},MEDIUM:{total:0,correct:0},HARD:{total:0,correct:0}};return y.forEach((N,f)=>{const w=N.difficulty;M[w].total++,j[f]==="CORRECT"&&M[w].correct++}),M},[y,j]);return e.jsxs("div",{className:"max-w-2xl w-full text-center space-y-8 animate-in fade-in zoom-in duration-500 bg-slate-900 p-8 rounded-3xl border border-slate-800 shadow-2xl relative overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{size:80,className:`mx-auto ${E.color}`}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:`text-xs font-bold uppercase tracking-widest mb-2 ${E.color}`,children:E.title}),e.jsxs("div",{className:"text-6xl font-black text-white tracking-tighter",children:[C,e.jsx("span",{className:"text-2xl",children:"%"})]})]}),e.jsxs("p",{className:"text-slate-400 text-sm mt-4 italic",children:['"',E.desc,'"']})]}),e.jsxs("div",{className:"bg-slate-950 p-6 rounded-xl border border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-center text-xs font-bold text-slate-500 uppercase tracking-widest",children:[e.jsx(ce,{size:14})," 能力雷达 (Accuracy by Difficulty)"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:["EASY","MEDIUM","HARD"].map(M=>{const N=v[M],f=N.total>0?Math.round(N.correct/N.total*100):0,w=M==="EASY"?"text-emerald-400":M==="MEDIUM"?"text-cyan-400":"text-red-400",c=M==="EASY"?"bg-emerald-500":M==="MEDIUM"?"bg-cyan-500":"bg-red-500";return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:`text-[10px] font-bold ${w}`,children:M}),e.jsxs("div",{className:"h-24 w-full bg-slate-800 rounded-lg relative flex flex-col justify-end overflow-hidden",children:[e.jsx("div",{className:`w-full transition-all duration-1000 ${c}`,style:{height:`${f}%`,opacity:.6}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white shadow-black drop-shadow-md",children:[f,"%"]})]}),e.jsxs("div",{className:"text-[10px] text-slate-500",children:[N.correct,"/",N.total]})]},M)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[e.jsxs("div",{className:"text-xl font-bold text-white",children:[s," ",e.jsxs("span",{className:"text-xs text-slate-500 font-normal",children:["/ ",x]})]}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase",children:"总得分"})]}),e.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[e.jsxs("div",{className:"text-xl font-bold text-white",children:[d," ",e.jsxs("span",{className:"text-xs text-slate-500 font-normal",children:["/ ",r]})]}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase",children:"全对题数"})]})]}),e.jsxs("button",{onClick:g,className:"w-full py-4 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2 group border border-slate-600 hover:border-slate-500",children:[e.jsx(ne,{size:18,className:"group-hover:rotate-180 transition-transform duration-500"})," 重新挑战"]})]})},Te=({onClose:s})=>{const[r,d]=b.useState(""),[x,g]=b.useState(""),[y,j]=b.useState(!1);b.useEffect(()=>{const f=C();d(f),g(v(f))},[]);const C=()=>{const f=["ID","Category","Type","Difficulty","Question","Options (Split by |)","CorrectAnswer (Split by |)","Explanation"],w=_.map(c=>{const m=u=>`"${u.replace(/"/g,'""')}"`,D=c.options.join("|"),p=Array.isArray(c.correctAnswer)?c.correctAnswer.join("|"):c.correctAnswer;return[c.id,m(c.category),c.type,c.difficulty,m(c.question),m(D),m(String(p)),m(c.explanation)].join(",")});return[f.join(","),...w].join(`
`)},E=f=>{const w=[];let c="",m=!1;for(let D=0;D<f.length;D++){const p=f[D];p==='"'?m&&f[D+1]==='"'?(c+='"',D++):m=!m:p===","&&!m?(w.push(c),c=""):c+=p}return w.push(c),w},v=f=>{const w=f.trim().split(`
`);return w.length<2?"// Invalid CSV":`export const QUIZ_DATABASE: QuizQuestion[] = [
${w.slice(1).map(m=>{if(!m.trim())return"";const D=E(m);if(D.length<8)return`// Error parsing line: ${m.substring(0,20)}...`;const[p,u,A,I,R,n,a,l]=D,i=`[${n.split("|").map(o=>`"${o}"`).join(", ")}]`;if(A==="SINGLE")return`  q(${p}, "${u}", "${I}", "${R}", ${i}, "${a}", "${l}"),`;if(A==="TRUE_FALSE"){const o=a.includes("True")||a.includes("正确")?"true":"false";return`  tf(${p}, "${u}", "${I}", "${R}", ${o}, "${l}"),`}else if(A==="MULTI"){const o=`[${a.split("|").map(h=>`"${h}"`).join(", ")}]`;return`  mq(${p}, "${u}", "${I}", "${R}", ${i}, ${o}, "${l}"),`}else if(A==="ORDER"){const o=`[${a.split("|").map(h=>`"${h}"`).join(", ")}]`;return`  oq(${p}, "${u}", "${I}", "${R}", ${i}, ${o}, "${l}"),`}else if(A==="FILL_BLANK"){const o=`[${a.split("|").map(h=>`"${h}"`).join(", ")}]`;return`  fb(${p}, "${u}", "${I}", "${R}", ${o}, "${a.split("|")[0]}", "${l}"),`}else if(A==="MATCHING"){const o=n.split("|"),h=a.split("|"),S=o.map((T,k)=>`["${T}", "${h[k]||""}"]`).join(`,
    `);return`  matchQ(${p}, "${u}", "${I}", "${R}", [
    ${S}
  ], "${l}"),`}else if(A==="INTERACTIVE")return`// Interactive questions need manual config reconstruction. ID: ${p}`;return`// Unsupported type in converter: ${A}`}).filter(m=>m).join(`
`)}
];`},M=f=>{d(f),g(v(f))},N=()=>{navigator.clipboard.writeText(x),j(!0),setTimeout(()=>j(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-5xl h-[80vh] bg-slate-900 rounded-2xl border border-slate-700 flex flex-col shadow-2xl animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-800/50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"text-cyan-400",size:20}),e.jsx("h3",{className:"font-bold text-white",children:"题库数据编辑器 (Database Editor)"})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:e.jsx(K,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[e.jsxs("div",{className:"flex-1 flex flex-col p-4 border-b lg:border-b-0 lg:border-r border-slate-800",children:[e.jsxs("div",{className:"mb-2 text-xs font-bold text-slate-400 flex justify-between",children:[e.jsx("span",{children:"CSV Source (Excel Compatible)"}),e.jsx("span",{className:"text-[10px] text-slate-600",children:"Delimiter: Comma | Arrays: Pipe (|)"})]}),e.jsx("textarea",{className:"flex-1 bg-slate-950 border border-slate-800 rounded-lg p-4 font-mono text-xs text-slate-300 focus:border-cyan-500 outline-none resize-none",value:r,onChange:f=>M(f.target.value),placeholder:"Paste CSV here..."})]}),e.jsxs("div",{className:"flex-1 flex flex-col p-4 bg-slate-900/50",children:[e.jsxs("div",{className:"mb-2 text-xs font-bold text-slate-400 flex justify-between items-center",children:[e.jsx("span",{children:"TypeScript Code (Copy to Source)"}),y&&e.jsxs("span",{className:"text-emerald-400 text-[10px] flex items-center gap-1",children:[e.jsx(xe,{size:12})," Copied!"]})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{readOnly:!0,className:"w-full h-full bg-slate-950 border border-slate-800 rounded-lg p-4 font-mono text-xs text-green-400 focus:border-emerald-500 outline-none resize-none",value:x}),e.jsxs("button",{onClick:N,className:"absolute bottom-4 right-4 bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg text-xs font-bold shadow-lg flex items-center gap-2 transition-all",children:[e.jsx(be,{size:14})," Copy Code"]})]})]})]})]})})},z=s=>{const r=[...s];for(let d=r.length-1;d>0;d--){const x=Math.floor(Math.random()*(d+1));[r[d],r[x]]=[r[x],r[d]]}return r},Ye=()=>{const[s,r]=b.useState("INTRO"),[d,x]=b.useState(!1),[g,y]=b.useState([]),[j,C]=b.useState(0),[E,v]=b.useState(0),[M,N]=b.useState([]),f=10,w=_.length,c=(p,u)=>{const A=u.easy+u.medium+u.hard,I=u.easy/A,R=u.medium/A;let n=Math.round(p*I),a=Math.round(p*R),l=p-n-a;const i=z(_.filter(H=>H.difficulty==="EASY")),o=z(_.filter(H=>H.difficulty==="MEDIUM")),h=z(_.filter(H=>H.difficulty==="HARD"));let S=[];const T=(H,G)=>{const W=H.slice(0,G);return S=[...S,...W],Math.max(0,G-W.length)};let k=T(h,l);if(a+=k,k=T(o,a),n+=k,k=T(i,n),k>0){const H=z(_.filter(G=>!S.includes(G)));S=[...S,...H.slice(0,k)]}if(S.length===0){alert("错误：题库为空，无法开始游戏。请检查数据源。");return}const U=z(S).slice(0,p);y(U),C(0),v(0),N([]),r("PLAYING")},m=(p,u)=>{C(p),v(u.filter(A=>A==="CORRECT").length),N(u),r("SUMMARY")},D=()=>{const p=["ID","Category","Type","Difficulty","Question","Options","Correct Answer","Explanation"],u=_.map(a=>{const l=h=>`"${h.replace(/"/g,'""')}"`,i=a.options.join(" | "),o=Array.isArray(a.correctAnswer)?a.correctAnswer.join(" | "):a.correctAnswer;return[a.id,a.category,a.type,a.difficulty,l(a.question),l(i),l(o),l(a.explanation)].join(",")}),A="\uFEFF"+[p.join(","),...u].join(`
`),I=new Blob([A],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(I),n=document.createElement("a");n.href=R,n.setAttribute("download","quiz_database_export.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)};return e.jsxs("div",{className:"h-full bg-slate-950 flex items-center justify-center p-4 lg:p-8 overflow-y-auto",children:[d&&e.jsx(Te,{onClose:()=>x(!1)}),s==="INTRO"&&e.jsx(De,{totalQuestions:w,onStart:c,onOpenEditor:()=>x(!0),onDownloadCsv:D}),s==="PLAYING"&&e.jsx(Re,{questions:g,onFinish:m}),s==="SUMMARY"&&e.jsx(Le,{score:j,totalQuestions:g.length,correctCount:E,maxScore:g.length*f,onRestart:()=>r("INTRO"),questions:g,history:M})]})};export{Ye as KnowledgeQuizView};
