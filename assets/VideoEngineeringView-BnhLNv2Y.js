import{c as o,r as d,j as e,F as n,M as m,e as b}from"./index-Bo9Uqymi.js";import{S as c,a as f}from"./Controls-CO1hGikE.js";import{T as h}from"./TabNavigation-LLwB00H0.js";import{H as p}from"./hard-drive-B6qgdawp.js";import{S as g}from"./scissors-rOuD6KNY.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],u=o("file-play",j),E=({initialTab:s})=>{const[t,l]=d.useState("CODECS");d.useEffect(()=>{s&&["SHUTTER_ANGLE","CODECS","FORMATS"].includes(s)&&l(s)},[s]);const a=[{id:"CODECS",label:"视频压缩架构 (GOP)",icon:e.jsx(u,{size:16})},{id:"FORMATS",label:"常用编码 (ProRes/H.265)",icon:e.jsx(n,{size:16})},{id:"SHUTTER_ANGLE",label:"电影快门角度",icon:e.jsx(m,{size:16})}];return e.jsx("div",{className:"flex flex-col lg:flex-row h-full overflow-hidden",children:e.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden border-b lg:border-r border-slate-800 flex flex-col",children:[e.jsx(h,{tabs:a,activeTab:t,onTabChange:r=>l(r)}),e.jsxs("div",{className:"flex-1 relative overflow-hidden bg-slate-950",children:[t==="CODECS"&&e.jsx(N,{}),t==="FORMATS"&&e.jsx(v,{}),t==="SHUTTER_ANGLE"&&e.jsx(w,{})]})]})})},v=()=>{const[s,t]=d.useState("PRORES"),l={PRORES:{bitrate:100,cpu:10,size:100,color:"bg-pink-500",label:"ProRes 422 HQ",intra:!0},H265:{bitrate:20,cpu:90,size:20,color:"bg-emerald-500",label:"H.265 (HEVC)",intra:!1},H264:{bitrate:35,cpu:50,size:35,color:"bg-blue-500",label:"H.264 (AVC)",intra:!1}}[s];return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-slate-900 flex flex-col items-center justify-center p-8",children:e.jsxs("div",{className:"grid grid-cols-3 gap-8 w-full max-w-4xl items-end h-64",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 h-full justify-end",children:[e.jsx("div",{className:`w-16 rounded-t transition-all duration-500 ${l.color}`,style:{height:`${l.bitrate}%`}}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[e.jsx(p,{size:16})," 文件体积"]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 h-full justify-end",children:[e.jsx("div",{className:"w-16 bg-red-500 rounded-t transition-all duration-500",style:{height:`${l.cpu}%`}}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[e.jsx(b,{size:16})," 剪辑卡顿 (CPU)"]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 h-full justify-end pb-8",children:[l.intra?e.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((a,r)=>e.jsx("div",{className:"w-6 h-8 bg-white border border-slate-400"},r))}):e.jsxs("div",{className:"flex gap-1 opacity-50",children:[e.jsx("div",{className:"w-6 h-8 bg-white border border-slate-400"}),e.jsx("div",{className:"w-6 h-8 bg-slate-600 border border-slate-500 scale-75"}),e.jsx("div",{className:"w-6 h-8 bg-slate-600 border border-slate-500 scale-75"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[e.jsx(g,{size:16})," 帧结构"]})]})]})}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-900 border-l border-slate-800 p-6 flex flex-col",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(n,{size:20,className:"text-cyan-400"})," 常见编码对比"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>t("PRORES"),className:`w-full p-4 rounded-lg border text-left transition-all ${s==="PRORES"?"bg-pink-900/30 border-pink-500":"border-slate-700"}`,children:[e.jsx("div",{className:"font-bold text-sm text-pink-400 mb-1",children:"Apple ProRes"}),e.jsx("div",{className:"text-[10px] text-slate-400",children:"帧内编码 (All-Intra)。每一帧都是完整的图片。剪辑极其流畅，像切黄油一样，但文件体积巨大。行业标准中间流。"})]}),e.jsxs("button",{onClick:()=>t("H265"),className:`w-full p-4 rounded-lg border text-left transition-all ${s==="H265"?"bg-emerald-900/30 border-emerald-500":"border-slate-700"}`,children:[e.jsx("div",{className:"font-bold text-sm text-emerald-400 mb-1",children:"H.265 (HEVC)"}),e.jsx("div",{className:"text-[10px] text-slate-400",children:"帧间预测。压缩率极高，同画质下体积最小。但解码极其消耗算力，老电脑剪辑会卡成PPT。适合最终交付。"})]}),e.jsxs("button",{onClick:()=>t("H264"),className:`w-full p-4 rounded-lg border text-left transition-all ${s==="H264"?"bg-blue-900/30 border-blue-500":"border-slate-700"}`,children:[e.jsx("div",{className:"font-bold text-sm text-blue-400 mb-1",children:"H.264 (AVC)"}),e.jsx("div",{className:"text-[10px] text-slate-400",children:"兼容性之王。几乎所有设备都能播放。体积和性能介于前两者之间。"})]})]})]})]})},N=()=>{const[s,t]=d.useState(12);return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-slate-900 flex flex-col items-center justify-center p-8",children:[e.jsx("div",{className:"flex gap-1 overflow-x-auto max-w-full p-6 bg-black/40 rounded-xl border border-slate-700 shadow-2xl no-scrollbar",children:[...Array(s)].map((l,a)=>{const r=a===0?"I":a%3===0?"P":"B";return e.jsxs("div",{className:"flex flex-col items-center gap-2 min-w-[40px]",children:[e.jsx("div",{className:`w-10 h-16 rounded shadow-lg border-2 flex items-center justify-center text-sm font-black transition-all transform hover:scale-110
                           ${r==="I"?"bg-red-900/40 border-red-500 text-red-100":r==="P"?"bg-blue-900/40 border-blue-500 text-blue-100":"bg-green-900/40 border-green-500 text-green-100"}
                        `,children:r}),e.jsx("div",{className:"w-0.5 h-3 bg-slate-700"}),r!=="I"&&e.jsx("div",{className:"text-[8px] text-slate-500 animate-pulse",children:"Ref →"})]},a)})}),e.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 w-full max-w-2xl px-4",children:[e.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border-t-2 border-red-500",children:[e.jsx("span",{className:"text-red-400 font-black text-[10px] block mb-1",children:"INTRA (I-Frame)"}),e.jsx("p",{className:"text-[9px] text-slate-400",children:"完整自洽帧。体积最大，无需参考。编辑性能最强。"})]}),e.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border-t-2 border-blue-500",children:[e.jsx("span",{className:"text-blue-400 font-black text-[10px] block mb-1",children:"PREDICTED (P-Frame)"}),e.jsx("p",{className:"text-[9px] text-slate-400",children:"前向预测帧。仅记录与上一帧的运动矢量差异。"})]}),e.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border-t-2 border-green-500",children:[e.jsx("span",{className:"text-green-400 font-black text-[10px] block mb-1",children:"BI-DIR (B-Frame)"}),e.jsxs("p",{className:"text-[9px] text-slate-400 text-justify leading-tight",children:["双向预测帧。同时参考前一帧和后一帧。压缩率极高，体积最小。",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-red-400 font-bold",children:"缺点："}),"解码器必须先“预读”后面的帧才能解开当前的 B 帧（乱序解码），这会导致剪辑时间轴极其卡顿。"]})]})]})]}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-900 border-l border-slate-800 p-6 overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-bold mb-6",children:"视频编码架构 (GOP)"}),e.jsx(c,{label:"GOP 长度 (Frames)",value:s,min:2,max:24,onChange:t}),e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"text-[10px] text-slate-400 leading-relaxed bg-slate-800 p-4 rounded-lg border border-slate-700 italic",children:[e.jsx("span",{className:"text-white font-bold block mb-1",children:"Long-GOP vs All-I:"}),"网络视频和流媒体通常使用 Long-GOP (含大量 B 帧) 以节省带宽。",e.jsx("br",{}),e.jsx("br",{}),"专业录制（如 ProRes 422）通常采用 All-I (全 I 帧)，虽然文件体积大，但每帧独立，拖动时间轴丝般顺滑，对 CPU 压力极小。"]})})]})]})},w=()=>{const[s,t]=d.useState(24),[l,a]=d.useState(180),r=Math.round(s*360/l),i=l/180*15;return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-slate-900 flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-full max-w-xl h-48 bg-black border-y border-slate-800 relative flex items-center justify-center overflow-hidden",children:e.jsx("div",{className:"w-16 h-16 bg-cyan-500 rounded-full shadow-[0_0_20px_cyan]",style:{animation:"horizontal-move 0.8s infinite alternate ease-in-out",filter:`blur(${i}px)`,transform:`scaleX(${1+i/10})`}})}),e.jsx("style",{children:"@keyframes horizontal-move { from { transform: translateX(-150px); } to { transform: translateX(150px); } }"}),e.jsxs("div",{className:"mt-10 flex gap-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-black text-white font-mono",children:["1/",r,"s"]}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-2 uppercase tracking-widest",children:"Effective Shutter"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-black text-cyan-400 font-mono",children:[l,"°"]}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-2 uppercase tracking-widest",children:"Cinema Angle"})]})]})]}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-900 border-l border-slate-800 p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-6",children:"电影快门角度"}),e.jsx(f,{label:"基准帧率 (FPS)",value:s.toString(),options:[{label:"24 fps (电影感)",value:"24"},{label:"30 fps (电视/网络)",value:"30"},{label:"60 fps (高流畅)",value:"60"}],onChange:x=>t(Number(x))}),e.jsx(c,{label:"快门角度 (Shutter Angle)",value:l,min:11.25,max:360,step:11.25,onChange:a}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:()=>a(90),className:"flex-1 py-1 bg-slate-800 text-[10px] rounded hover:bg-slate-700 text-slate-400",children:"90° (动作片)"}),e.jsx("button",{onClick:()=>a(180),className:"flex-1 py-1 bg-slate-800 text-[10px] rounded hover:bg-slate-700 text-emerald-400 font-bold",children:"180° (标准)"}),e.jsx("button",{onClick:()=>a(360),className:"flex-1 py-1 bg-slate-800 text-[10px] rounded hover:bg-slate-700 text-slate-400",children:"360° (梦幻)"})]})]})]})};export{E as VideoEngineeringView};
