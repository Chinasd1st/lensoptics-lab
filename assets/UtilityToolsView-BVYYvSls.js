import{r,j as e,C as D,A as g,S as v,g as C,l as k}from"./index-B1KeZKc5.js";import{L as F}from"./LoudnessAnalyzerModule-CPouelGG.js";import{a as M,S as i}from"./Controls-32IhnGCL.js";import{C as w}from"./clock-CgR3pYbu.js";import{A as L}from"./activity-BXz_t5ps.js";import"./upload-wylcr0q7.js";import"./play-DdP9YJGC.js";import"./zoom-in-BjlwC0Gi.js";import"./circle-check-big-CSU7bu1G.js";const Y=({initialTab:t})=>{const[a,s]=r.useState("DOF");return r.useEffect(()=>{t&&["LOUDNESS","DOF","TIMELAPSE","ND_CALC"].includes(t)&&s(t)},[t]),e.jsxs("div",{className:"flex flex-col lg:flex-row h-full overflow-hidden bg-slate-950",children:[e.jsxs("div",{className:"w-full lg:w-72 bg-slate-900 border-r border-slate-800 flex flex-col shrink-0",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(D,{size:24,className:"text-cyan-400"})," 实用工具箱"]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"纯前端计算，无数据上传。"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[e.jsx(N,{active:a==="DOF",onClick:()=>s("DOF"),icon:e.jsx(g,{size:18}),label:"景深计算器",sub:"Depth of Field"}),e.jsx(N,{active:a==="TIMELAPSE",onClick:()=>s("TIMELAPSE"),icon:e.jsx(w,{size:18}),label:"延时摄影计算",sub:"Time-Lapse"}),e.jsx(N,{active:a==="ND_CALC",onClick:()=>s("ND_CALC"),icon:e.jsx(v,{size:18}),label:"长曝光/ND换算",sub:"Exposure & ND"}),e.jsx(N,{active:a==="LOUDNESS",onClick:()=>s("LOUDNESS"),icon:e.jsx(L,{size:18}),label:"响度分析仪",sub:"Loudness Analyzer"})]})]}),e.jsxs("div",{className:"flex-1 relative overflow-y-auto no-scrollbar",children:[a==="DOF"&&e.jsx(A,{}),a==="TIMELAPSE"&&e.jsx(E,{}),a==="ND_CALC"&&e.jsx(z,{}),a==="LOUDNESS"&&e.jsx(F,{})]})]})},N=({active:t,onClick:a,icon:s,label:m,sub:x})=>e.jsxs("button",{onClick:a,className:`w-full p-3 rounded-lg text-left transition-all flex items-center gap-3 ${t?"bg-cyan-900/30 border border-cyan-500/50":"hover:bg-slate-800 border border-transparent"}`,children:[e.jsx("div",{className:`${t?"text-cyan-400":"text-slate-500"}`,children:s}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-bold ${t?"text-white":"text-slate-300"}`,children:m}),e.jsx("div",{className:"text-[10px] text-slate-500",children:x})]})]}),A=()=>{const[t,a]=r.useState(50),[s,m]=r.useState(2.8),[x,b]=r.useState(200),[d,f]=r.useState(.03),l=t,j=s,u=d,n=x*10,o=l*l/(j*u)+l,h=o*n/(o+(n-l)),c=o*n/(o-(n-l)),p=c>0?c-h:1/0,y=o/1e3;return e.jsx("div",{className:"p-6 lg:p-12 h-full flex flex-col items-center",children:e.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx(g,{className:"text-cyan-400"})," 景深计算器"]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 relative overflow-hidden h-64 flex flex-col justify-center",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-slate-800/50 to-transparent"}),e.jsxs("div",{className:"absolute left-4 bottom-1/2 transform translate-y-1/2 z-10 flex flex-col items-center",children:[e.jsx("div",{className:"w-4 h-12 bg-slate-500 rounded"}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-2",children:"Camera"})]}),e.jsx("div",{className:"absolute left-8 right-8 top-1/2 h-0.5 bg-slate-600"}),e.jsxs("div",{className:"absolute top-1/2 transform -translate-y-1/2 flex flex-col items-center transition-all duration-300",style:{left:"50%"},children:[e.jsx("div",{className:"w-1 h-4 bg-white"}),e.jsx("div",{className:"w-3 h-3 bg-white rounded-full -mt-1.5"}),e.jsxs("div",{className:"text-xs font-bold text-white mt-2 bg-slate-900/80 px-2 rounded",children:[(n/1e3).toFixed(2),"m (焦点)"]})]}),e.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 h-16 bg-emerald-500/20 border-x-2 border-emerald-500/50 flex items-center justify-center transition-all duration-300",style:{left:`${h/(n*2)*100}%`,right:`${100-(c>n*2||c<0?100:c/(n*2)*100)}%`},children:e.jsx("span",{className:"text-xs text-emerald-400 font-bold whitespace-nowrap px-2",children:"清晰范围"})}),n>o&&e.jsx("div",{className:"absolute top-4 right-4 text-xs text-yellow-500 font-bold border border-yellow-500/30 px-2 py-1 rounded bg-yellow-900/20",children:"已超焦距 (无限远清晰)"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"最近清晰距离"}),e.jsxs("div",{className:"text-xl font-mono font-bold text-white",children:[(h/1e3).toFixed(2),"m"]})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"最远清晰距离"}),e.jsx("div",{className:"text-xl font-mono font-bold text-white",children:c<0?"∞":(c/1e3).toFixed(2)+"m"})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"总景深"}),e.jsx("div",{className:"text-xl font-mono font-bold text-emerald-400",children:p===1/0?"∞":(p/1e3).toFixed(2)+"m"})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 text-center",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"超焦距距离"}),e.jsxs("div",{className:"text-xl font-mono font-bold text-yellow-400",children:[y.toFixed(2),"m"]})]})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx(M,{label:"传感器画幅",value:d.toString(),options:[{label:"全画幅 (Full Frame)",value:"0.03"},{label:"APS-C (Sony/Nikon)",value:"0.02"},{label:"APS-C (Canon)",value:"0.019"},{label:"Micro 4/3",value:"0.015"}],onChange:S=>f(parseFloat(S))}),e.jsx(i,{label:"焦距 (mm)",value:t,min:14,max:200,step:1,onChange:a})]}),e.jsxs("div",{children:[e.jsx(i,{label:"光圈 (f/x)",value:s,min:1,max:22,step:.1,onChange:m}),e.jsx(i,{label:"对焦距离 (cm)",value:x,min:30,max:1e3,step:10,onChange:b})]})]})]})})},E=()=>{const[t,a]=r.useState(10),[s,m]=r.useState(24),[x,b]=r.useState(5),[d,f]=r.useState(50),l=t*s,j=l*x,u=l*d,n=o=>{const h=Math.floor(o/3600),c=Math.floor(o%3600/60),p=Math.floor(o%60);return h>0?`${h}小时 ${c}分`:`${c}分 ${p}秒`};return e.jsx("div",{className:"p-6 lg:p-12 h-full flex flex-col items-center",children:e.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx(w,{className:"text-cyan-400"})," 延时摄影计算器"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-cyan-900/50 to-slate-900 border border-cyan-500/30 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"text-sm text-cyan-200 mb-2 font-bold uppercase tracking-wider",children:"拍摄时长"}),e.jsx("div",{className:"text-3xl font-black text-white",children:n(j)}),e.jsx("div",{className:"text-xs text-cyan-400/60 mt-2 font-mono",children:"你需要在这里守这么久"})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"text-sm text-slate-400 mb-2 font-bold uppercase tracking-wider",children:"快门次数"}),e.jsx("div",{className:"text-3xl font-black text-white font-mono",children:l}),e.jsx("div",{className:"text-xs text-slate-600 mt-2",children:"Shots"})]}),e.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"text-sm text-slate-400 mb-2 font-bold uppercase tracking-wider",children:"存储需求"}),e.jsxs("div",{className:"text-3xl font-black text-white font-mono",children:[(u/1024).toFixed(1)," GB"]}),e.jsxs("div",{className:"text-xs text-slate-600 mt-2",children:["Based on ",d,"MB/Raw"]})]})]}),e.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl border border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"font-bold text-white border-b border-slate-700 pb-2",children:"输出目标 (Target)"}),e.jsx(i,{label:"成片时长 (秒)",value:t,min:1,max:60,step:1,onChange:a}),e.jsx(i,{label:"视频帧率 (FPS)",value:s,min:24,max:60,step:1,onChange:m})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"font-bold text-white border-b border-slate-700 pb-2",children:"拍摄设置 (Shooting)"}),e.jsx(i,{label:"拍摄间隔 (秒)",value:x,min:1,max:60,step:1,onChange:b}),e.jsx(i,{label:"单张照片大小 (MB)",value:d,min:20,max:100,step:5,onChange:f})]})]}),e.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 flex gap-4",children:[e.jsx("div",{className:"p-3 bg-yellow-900/20 rounded-full h-min text-yellow-500",children:e.jsx(v,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:"拍摄建议"}),e.jsxs("ul",{className:"text-xs text-slate-400 space-y-1 list-disc pl-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"间隔选择："})," 云流/车流 (1-2秒)，日落 (3-5秒)，星空 (15-30秒)，植物生长 (5-10分钟)。"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"快门速度："})," 建议使用慢门（拖影）以获得流畅的动态模糊。快门速度最好是间隔时间的 1/2 (180度规则)。"]}),e.jsx("li",{children:"例如间隔 2秒，快门设为 1秒。"})]})]})]})]})})},z=()=>{const[t,a]=r.useState(100),[s,m]=r.useState(10),x=1/t,b=Math.pow(2,s),d=x*b,f=l=>{if(l<1)return`1/${Math.round(1/l)}s`;if(l<60)return`${l.toFixed(1)}s`;const j=Math.floor(l/60),u=Math.round(l%60);return`${j}m ${u}s`};return e.jsx("div",{className:"p-6 lg:p-12 h-full flex flex-col items-center",children:e.jsxs("div",{className:"max-w-4xl w-full space-y-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx(v,{className:"text-orange-400"})," 长曝光计算器"]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-12 py-8",children:[e.jsxs("div",{className:"bg-white text-black w-40 h-40 rounded-full flex flex-col items-center justify-center shadow-[0_0_30px_white]",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 mb-1",children:"Base Shutter"}),e.jsxs("div",{className:"text-3xl font-black font-mono",children:["1/",t]}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"正常曝光"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2 font-mono",children:"MULTIPLY BY"}),e.jsxs("div",{className:"bg-slate-800 px-4 py-2 rounded border border-slate-600 font-mono text-cyan-400 font-bold",children:["2^",s]}),e.jsx(C,{className:"text-slate-600 mt-2",size:24})]}),e.jsxs("div",{className:"bg-black text-white border-2 border-slate-700 w-48 h-48 rounded-full flex flex-col items-center justify-center shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/50"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mb-1",children:"Target Shutter"}),e.jsx("div",{className:"text-3xl font-black font-mono text-cyan-400",children:f(d)}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[d.toFixed(1)," Seconds"]})]}),e.jsx("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",children:e.jsx("circle",{cx:"96",cy:"96",r:"90",fill:"none",stroke:"#22d3ee",strokeWidth:"2",strokeDasharray:"565",strokeDashoffset:"400",opacity:"0.3"})})]})]}),e.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl border border-slate-700 grid grid-cols-1 gap-8",children:[e.jsx(i,{label:"未加滤镜时的正常快门 (1/x 秒)",value:t,min:10,max:4e3,step:10,onChange:a}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"ND 滤镜档位"}),e.jsxs("span",{className:"text-sm text-cyan-400 font-mono font-bold bg-cyan-900/20 px-2 rounded",children:["ND ",Math.pow(2,s)," (",s," Stops)"]})]}),e.jsx("input",{type:"range",min:"1",max:"16",step:1,value:s,onChange:l=>m(Number(l.target.value)),className:"w-full h-3 bg-slate-700 rounded-full appearance-none cursor-pointer accent-cyan-500"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2 font-mono",children:[e.jsx("span",{children:"ND2 (1)"}),e.jsx("span",{children:"ND64 (6)"}),e.jsx("span",{children:"ND1000 (10)"}),e.jsx("span",{children:"ND65000 (16)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800",children:[e.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(v,{size:14})," 白天拍流水 (ND64 / ND1000)"]}),e.jsx("p",{className:"text-xs text-slate-400",children:"如果正常快门是 1/100s，加上 ND1000 (10档) 后，快门变成 10秒。足以把瀑布拍成丝绸，把水面拍平。"})]}),e.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800",children:[e.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(k,{size:14})," 消除路人 (ND32k+)"]}),e.jsx("p",{className:"text-xs text-slate-400",children:"如果在白天需要 2分钟以上的曝光来消除广场上的行人，你需要 13-16 档的减光。"})]})]})]})})};export{Y as UtilityToolsView};
