import{c as P,r as n,j as e,F as C,A as z}from"./index-BinNrs6B.js";import{b as B,O as S,C as w,a as y}from"./optics-BJr8qzqd.js";import{T as A,S as M}from"./Controls-Dmgv-qPu.js";import{C as T}from"./chart-line-CR8H1I8a.js";import{S as E}from"./sparkles-JNI-gCFx.js";import{T as I}from"./triangle-alert-DkNT8UA7.js";import{C as G}from"./camera-C4t7s_ae.js";import{B as H}from"./book-open-DLryGSHM.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M20 12h.01",key:"1ykeid"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M4 12h.01",key:"158zrr"}],["path",{d:"M17.657 6.343h.01",key:"31pqzk"}],["path",{d:"M17.657 17.657h.01",key:"jehnf4"}],["path",{d:"M6.343 17.657h.01",key:"gdk6ow"}],["path",{d:"M6.343 6.343h.01",key:"1uurf0"}]],O=P("sun-dim",V),re=({initialTab:s})=>{const[l,t]=n.useState("MTF_LAB");return n.useEffect(()=>{s&&["ASPHERICAL","COATING","ABERRATIONS","CINE_VS_PHOTO","MTF_LAB","DIFFRACTION"].includes(s)&&t(s)},[s]),e.jsx("div",{className:"flex flex-col lg:flex-row h-full overflow-hidden",children:e.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden border-b lg:border-r border-slate-800 flex flex-col",children:[e.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-900 overflow-x-auto no-scrollbar shrink-0",children:[e.jsx(N,{active:l==="MTF_LAB",onClick:()=>t("MTF_LAB"),icon:e.jsx(T,{size:16}),label:"MTF 曲线实验室"}),e.jsx(N,{active:l==="DIFFRACTION",onClick:()=>t("DIFFRACTION"),icon:e.jsx(O,{size:16}),label:"衍射极限 (Diffraction)"}),e.jsx(N,{active:l==="CINE_VS_PHOTO",onClick:()=>t("CINE_VS_PHOTO"),icon:e.jsx(C,{size:16}),label:"电影镜 vs 摄影镜"}),e.jsx(N,{active:l==="ASPHERICAL",onClick:()=>t("ASPHERICAL"),icon:e.jsx(z,{size:16}),label:"非球面校正"}),e.jsx(N,{active:l==="COATING",onClick:()=>t("COATING"),icon:e.jsx(E,{size:16}),label:"镀膜技术"}),e.jsx(N,{active:l==="ABERRATIONS",onClick:()=>t("ABERRATIONS"),icon:e.jsx(I,{size:16}),label:"边缘像差"})]}),e.jsxs("div",{className:"flex-1 relative overflow-hidden bg-slate-950",children:[l==="CINE_VS_PHOTO"&&e.jsx(q,{}),l==="ASPHERICAL"&&e.jsx(Q,{}),l==="COATING"&&e.jsx(U,{}),l==="ABERRATIONS"&&e.jsx(Y,{}),l==="MTF_LAB"&&e.jsx(X,{}),l==="DIFFRACTION"&&e.jsx(W,{})]})]})})},N=({active:s,onClick:l,icon:t,label:c})=>e.jsxs("button",{onClick:l,className:`flex items-center gap-2 px-5 py-4 text-xs font-bold transition-colors whitespace-nowrap shrink-0 ${s?"text-cyan-400 bg-slate-800 border-b-2 border-cyan-400 shadow-inner":"text-slate-500 hover:text-slate-300"}`,children:[t," ",c]}),W=()=>{const[s,l]=n.useState(8),t=s*2.5;return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-black flex flex-col items-center justify-center p-8 relative",children:[e.jsxs("div",{className:"relative w-64 h-64 bg-slate-900 border border-slate-700 flex items-center justify-center overflow-hidden rounded-lg shadow-2xl",children:[e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[e.jsx("div",{className:"rounded-full border-2 border-white/20",style:{width:t*3,height:t*3,opacity:.3}}),e.jsx("div",{className:"rounded-full border-2 border-white/40",style:{width:t*2,height:t*2,opacity:.5}}),e.jsx("div",{className:"rounded-full bg-white blur-sm shadow-[0_0_20px_white]",style:{width:t,height:t}})]}),e.jsx("div",{className:"absolute bottom-2 right-2 text-[10px] text-slate-500 font-mono",children:"Simulated Point Source"})]}),e.jsxs("div",{className:"mt-8 flex gap-12 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:["f/",s]}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Aperture"})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-3xl font-bold mb-1 ${s>11?"text-red-500":"text-emerald-400"}`,children:s>11?"SOFT":"SHARP"}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Result"})]})]})]}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-900 border-l border-slate-800 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(O,{size:20,className:"text-orange-400"})," 衍射极限 (Diffraction)"]}),e.jsx(M,{label:"光圈值 (f-stop)",value:s,min:1.4,max:32,step:.1,onChange:l}),e.jsxs("div",{className:"mt-6 bg-slate-800 p-5 rounded-xl border border-slate-700 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-white",children:"艾里斑 (Airy Disk) 大小"}),e.jsxs("span",{className:"text-xs font-mono text-cyan-400",children:[t.toFixed(1)," µm"]})]}),e.jsxs("div",{className:"h-32 relative border-l border-b border-slate-600 mt-4",children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-full flex items-end",children:e.jsxs("svg",{className:"w-full h-full overflow-visible",preserveAspectRatio:"none",viewBox:"0 0 100 100",children:[e.jsx("path",{d:"M 0,50 Q 20,90 30,95 Q 50,90 100,20",fill:"none",stroke:"#22d3ee",strokeWidth:"2"}),e.jsx("circle",{cx:s/32*100,cy:100-(s<8?s/8*95:Math.max(20,95-(s-8)*4)),r:"4",fill:"white"})]})}),e.jsx("div",{className:"absolute -bottom-4 left-0 text-[9px] text-slate-500",children:"f/1.4"}),e.jsx("div",{className:"absolute -bottom-4 left-[25%] text-[9px] text-emerald-500 font-bold",children:"f/8 (最佳)"}),e.jsx("div",{className:"absolute -bottom-4 right-0 text-[9px] text-slate-500",children:"f/32"}),e.jsx("div",{className:"absolute top-0 -left-6 text-[9px] text-slate-500 -rotate-90",children:"Sharpness"})]}),e.jsxs("p",{className:"text-[10px] text-slate-400 mt-4 leading-relaxed italic",children:[e.jsx("strong",{className:"text-white",children:"误区："})," 光圈越小画质越好？",e.jsx("br",{}),'错！当光孔极小时（如 f/22），光波发生显著衍射干扰，形成巨大的"艾里斑"，导致图像整体发糊。全画幅相机的最佳光圈通常在 f/5.6 - f/8。']})]})]})]})},X=()=>{const[s,l]=n.useState(2.8),[t,c]=n.useState(!1),[d,f]=n.useState(!1),[a,i]=n.useState(null),b=n.useRef(null),g=Math.max(.6,1-Math.pow(Math.abs(s-5.6)/20,2)*.5),p=(r,x,j)=>{const h=r/21.6,m=x===10?g:g*.85;let u=m;x===10?u=t?m*.9:Math.max(.4,m-1/s*.5):u=t?m*.8:Math.max(.1,m-1/s*.8),j==="M"&&(u=t?u*.95:u*.6);const k=h<.5?2*h*h:1-Math.pow(-2*h+2,2)/2;return m+(u-m)*k},v=(r,x)=>{let j=`M 0,${(1-p(0,r,x))*300}`;for(let h=1;h<=216;h+=1){const m=h/10,k=(1-p(m,r,x))*300,L=m/21.6*600;j+=` L ${L},${k}`}return j},$=v(10,"S"),F=v(10,"M"),R=v(30,"S"),_=v(30,"M"),D=r=>{if(!b.current)return;const x=b.current.getBoundingClientRect(),j=r.clientX-x.left,h=Math.max(0,Math.min(21.6,j/x.width*21.6));i(h)};return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-slate-900 flex flex-col p-6 overflow-hidden",children:e.jsxs("div",{className:"relative flex-1 bg-white rounded-lg p-6 shadow-xl flex flex-col select-none",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"MTF Chart"}),e.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["Modulation Transfer Function @ f/",s]})]}),a!==null?e.jsxs("div",{className:"bg-slate-100 p-2 rounded border border-slate-200 text-[10px] font-mono w-40 shadow-inner",children:[e.jsxs("div",{className:"font-bold text-slate-600 border-b border-slate-300 mb-1 pb-1",children:["POS: ",a.toFixed(1),"mm"]}),e.jsxs("div",{className:"flex justify-between text-emerald-600",children:[e.jsxs("span",{children:["10-S: ",(p(a,10,"S")*100).toFixed(0)]}),e.jsxs("span",{children:["10-M: ",(p(a,10,"M")*100).toFixed(0)]})]}),e.jsxs("div",{className:"flex justify-between text-purple-600",children:[e.jsxs("span",{children:["30-S: ",(p(a,30,"S")*100).toFixed(0)]}),e.jsxs("span",{children:["30-M: ",(p(a,30,"M")*100).toFixed(0)]})]})]}):e.jsx("div",{className:"text-[10px] text-slate-400 italic mt-2",children:"Hover chart to inspect"})]}),e.jsxs("div",{className:"flex gap-4 mb-4 text-[10px] font-bold bg-slate-50 p-2 rounded-md border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-0.5 bg-emerald-600"})," ",e.jsx("span",{className:"text-slate-600",children:"10 lp/mm (反差)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-0.5 bg-purple-600"})," ",e.jsx("span",{className:"text-slate-600",children:"30 lp/mm (分辨率)"})]}),e.jsx("div",{className:"w-px h-4 bg-slate-300 mx-2"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-4 border-b-2 border-slate-400"})," ",e.jsx("span",{className:"text-slate-600",children:"实线: 径向 (S)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-4 border-b-2 border-dashed border-slate-400"})," ",e.jsx("span",{className:"text-slate-600",children:"虚线: 切向 (M)"})]})]}),e.jsxs("div",{className:"relative flex-1 border-l border-b border-slate-300 cursor-crosshair group",onMouseMove:D,onMouseLeave:()=>i(null),children:[e.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none -left-8 h-full py-[0px]",children:[100,80,60,40,20,0].map((r,x)=>e.jsx("span",{className:"text-[9px] text-slate-400 text-right w-6",style:{top:`${x*20}%`,position:"absolute"},children:r},r))}),e.jsx("div",{className:"absolute inset-0 flex justify-between pointer-events-none pl-[2px]",children:[0,5,10,15,21.6].map(r=>e.jsx("div",{className:"h-full border-r border-slate-100 relative",style:{left:`calc(${r/21.6*100}% - 1px)`,position:"absolute"},children:e.jsx("span",{className:"absolute -bottom-6 -left-2 text-[10px] text-slate-400",children:r})},r))}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none",children:[0,20,40,60,80].map(r=>e.jsx("div",{className:"w-full border-t border-slate-100 h-0",style:{top:`${r}%`,position:"absolute"}},r))}),e.jsxs("svg",{ref:b,className:"absolute inset-0 w-full h-full overflow-visible",preserveAspectRatio:"none",viewBox:"0 0 600 300",children:[e.jsx("path",{d:$,fill:"none",stroke:"#059669",strokeWidth:"2.5",vectorEffect:"non-scaling-stroke",strokeLinecap:"round"}),e.jsx("path",{d:F,fill:"none",stroke:"#059669",strokeWidth:"2.5",strokeDasharray:"6,4",vectorEffect:"non-scaling-stroke",strokeLinecap:"round"}),e.jsx("path",{d:R,fill:"none",stroke:"#7c3aed",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke",strokeLinecap:"round"}),e.jsx("path",{d:_,fill:"none",stroke:"#7c3aed",strokeWidth:"1.5",strokeDasharray:"3,3",vectorEffect:"non-scaling-stroke",strokeLinecap:"round"}),a!==null&&e.jsxs("g",{children:[e.jsx("line",{x1:a/21.6*600,y1:"0",x2:a/21.6*600,y2:"300",stroke:"#f43f5e",strokeWidth:"1",strokeDasharray:"2",vectorEffect:"non-scaling-stroke"}),e.jsx("circle",{cx:a/21.6*600,cy:(1-p(a,10,"S"))*300,r:"3",fill:"#059669"}),e.jsx("circle",{cx:a/21.6*600,cy:(1-p(a,10,"M"))*300,r:"3",fill:"white",stroke:"#059669",strokeWidth:"2"})]})]})]}),e.jsx("div",{className:"text-center text-[10px] text-slate-400 mt-6 font-bold",children:"Distance from Image Center (mm)"})]})}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-800 border-l border-slate-700 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(T,{size:20,className:"text-cyan-400"})," 控制台"]}),e.jsx("button",{onClick:()=>f(!d),className:`p-2 rounded-full transition-colors ${d?"bg-cyan-600 text-white":"bg-slate-700 text-slate-400"}`,title:"Theory Guide",children:e.jsx(H,{size:18})})]}),d?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[e.jsxs("div",{className:"p-4 bg-slate-900 rounded border border-slate-600",children:[e.jsx("h4",{className:"text-sm font-bold text-cyan-400 mb-2",children:"什么是 MTF?"}),e.jsxs("p",{className:"text-[11px] text-slate-300 leading-relaxed",children:["MTF (Modulation Transfer Function) 描述了镜头还原反差的能力。",e.jsx("br",{}),"Y轴越高(接近1)，代表还原度越好。",e.jsx("br",{}),"X轴代表从画面中心(0)到边缘(21.6mm)的位置。"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{title:"10线 (10 lp/mm) - 反差 (Contrast)",color:"text-emerald-400",content:"代表粗线条的还原能力。这条线越高，照片看起来越通透、立体感越强。如果不高，照片会像蒙了一层雾（球差影响）。"}),e.jsx(o,{title:"30线 (30 lp/mm) - 分辨率 (Resolution)",color:"text-purple-400",content:"代表细微纹理的还原能力。这条线越高，数毛越清晰。主要受衍射和像差影响。"}),e.jsx(o,{title:"实线 vs 虚线 (S vs M)",content:"实线是径向(Sagittal)，虚线是切向(Meridional)。两条线贴得越近，焦外光斑越圆。如果两条线分叉很大（像散），焦外会变得旋转或杂乱（二线性）。"})]}),e.jsx("button",{onClick:()=>f(!1),className:"w-full py-3 bg-slate-700 hover:bg-slate-600 text-xs text-white rounded",children:"返回控制"})]}):e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4",children:[e.jsxs("div",{children:[e.jsx(M,{label:"光圈 (Aperture)",value:s,min:1.4,max:22,step:.1,onChange:l}),e.jsx("div",{className:"text-[10px] text-slate-400 mt-2 bg-slate-900 p-2 rounded border border-slate-700",children:s<2.8?"大光圈下，边缘画质通常会因球差和彗差而下降。曲线末端(边缘)掉落明显。":s>16?"小光圈下，整体画质会因衍射效应(Diffraction)而下降。全图反差降低。":"黄金光圈 (f/5.6-f/8) 通常拥有最佳的中心和边缘画质。曲线最为平直。"})]}),e.jsx(A,{label:"启用像差修正 (ED/ASP镜片)",checked:t,onChange:c}),e.jsxs("div",{className:"bg-slate-900 p-4 rounded border border-slate-700",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-300 mb-2",children:"曲线解读"}),e.jsxs("ul",{className:"text-[10px] text-slate-400 space-y-2 list-disc pl-3",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-emerald-400",children:"绿色线"}),' 决定画面是否"通透"。']}),e.jsxs("li",{children:[e.jsx("span",{className:"text-purple-400",children:"紫色线"}),' 决定画面是否"锐利"。']}),e.jsx("li",{children:"实虚线分离越严重，像散(Astigmatism)越严重，焦外越难看。"})]})]})]})]})]})},q=()=>{const[s,l]=n.useState("CINE");return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-slate-900 flex items-center justify-center p-6 lg:p-12 relative overflow-hidden",children:e.jsxs("div",{className:"relative w-full max-w-lg aspect-square lg:aspect-video bg-black rounded-xl border border-slate-700 shadow-2xl overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1493723843671-1d655e66ac1c?q=80&w=1000')] bg-cover bg-center transition-all duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:`w-3/4 h-3/4 border-4 border-dashed rounded-full transition-all duration-500 flex items-center justify-center ${s==="CINE"?"border-cyan-500 animate-spin-slow":"border-slate-500 opacity-20"}`,children:s==="CINE"&&e.jsx("div",{className:"absolute inset-4 border border-cyan-400/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-[10px] text-cyan-400 font-mono tracking-widest",children:"T2.1 TRANSMISSION"})})})}),s==="CINE"&&e.jsxs("div",{className:"absolute inset-0 p-4 flex flex-col justify-between",children:[e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("div",{className:"bg-cyan-600/80 p-1 rounded text-[10px] font-bold text-white",children:"0.8 MOD GEAR"}),e.jsx("div",{className:"bg-cyan-600/80 p-1 rounded text-[10px] font-bold text-white",children:"DE-CLICKED"})]}),e.jsx("div",{className:"w-full flex justify-center pb-10",children:e.jsx("div",{className:"text-white bg-black/60 px-2 py-1 rounded text-xs animate-pulse",children:"NO BREATHING"})})]})]})}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-800 border-l border-slate-700 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(C,{size:20,className:"text-cyan-400"})," 工业差异"]}),e.jsxs("div",{className:"flex gap-2 mb-8",children:[e.jsxs("button",{onClick:()=>l("PHOTO"),className:`flex-1 py-4 rounded-lg border font-bold flex flex-col items-center gap-2 transition-all ${s==="PHOTO"?"bg-slate-700 border-white text-white":"border-slate-700 text-slate-500"}`,children:[e.jsx(G,{size:20})," 摄影镜头"]}),e.jsxs("button",{onClick:()=>l("CINE"),className:`flex-1 py-4 rounded-lg border font-bold flex flex-col items-center gap-2 transition-all ${s==="CINE"?"bg-cyan-900 border-cyan-500 text-cyan-400":"border-slate-700 text-slate-500"}`,children:[e.jsx(C,{size:20})," 电影镜头"]})]}),e.jsx("div",{className:"space-y-4",children:s==="PHOTO"?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4",children:[e.jsx(o,{title:"F档 (F-Stop)",content:"几何光圈比。仅表示物理直径比值，不考虑镜片透光率损失。不同F2.8镜头实际亮度可能不同。"}),e.jsx(o,{title:"有级光圈",content:"调整时有刻度感和咔哒声，会导致画面亮度瞬间跳变，不可在录制中调整。"}),e.jsx(o,{title:"呼吸效应 (Breathing)",content:"对焦时视角会产生像变焦一样的伸缩，影响电影感叙事。"}),e.jsx(o,{title:"非齐焦 (Varifocal)",content:"变焦后焦点会偏移，必须重新对焦。"})]}):e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4",children:[e.jsx(o,{title:"T档 (T-Stop)",color:"text-cyan-400",content:"曝光量化。实测透光率，确保更换不同镜头时曝光完全一致。"}),e.jsx(o,{title:"无级光圈 (De-clicked)",content:"丝滑顺畅的转动手感，允许在拍摄中实时、无感地补偿光线变化。"}),e.jsx(o,{title:"齐焦设计 (Parfocal)",color:"text-cyan-400",content:"变焦过程中焦点保持不变。允许推拉变焦镜头的推轨镜头拍摄。"}),e.jsx(o,{title:"超长对焦行程",content:"对焦环旋转角度可达270度以上，方便跟焦员进行极精细的焦点控制。"})]})})]})]})},o=({title:s,content:l,color:t="text-white"})=>e.jsxs("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700",children:[e.jsx("div",{className:`text-xs font-bold mb-1 ${t}`,children:s}),e.jsx("div",{className:"text-[10px] text-slate-400 leading-relaxed",children:l})]}),Q=()=>{const[s,l]=n.useState(!1),[t,c]=n.useState(100),d=180,{rays:f,focalPoints:a}=n.useMemo(()=>B(s,t,d),[s,t]),i=Math.max(...a)-Math.min(...a);return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-slate-900 relative",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 500",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"pattern-xa-adv",patternUnits:"userSpaceOnUse",width:"6",height:"6",patternTransform:"rotate(45)",children:e.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"6",stroke:"#ea580c",strokeWidth:"2"})})}),e.jsx("line",{x1:"0",y1:S,x2:"800",y2:S,stroke:"#475569",strokeDasharray:"5,5"}),e.jsx("g",{transform:`translate(${w}, ${y})`,children:s?e.jsx("path",{d:`M0,-${t} 
                     C 35,-${t/2} 35,${t/2} 0,${t} 
                     C -35,${t/2} -35,-${t/2} 0,-${t}`,fill:"url(#pattern-xa-adv)",stroke:"#ea580c",strokeWidth:"2"}):e.jsx("path",{d:`M0,-${t} 
                     Q 40,0 0,${t} 
                     Q -40,0 0,-${t}`,fill:"rgba(244, 114, 182, 0.1)",stroke:"#F472B6",strokeWidth:"2"})}),f.map((b,g)=>e.jsx("path",{d:`M${b.x1},${b.y1} L${b.x2},${b.y2}`,stroke:b.color,strokeWidth:1,fill:"none",opacity:.6},g)),e.jsx("line",{x1:w+d,y1:y-50,x2:w+d,y2:y+50,stroke:"white",strokeWidth:"1",strokeDasharray:"2,2",opacity:"0.3"}),!s&&e.jsx("circle",{cx:w+d,cy:y,r:i/2,fill:"none",stroke:"red",strokeWidth:"1",opacity:"0.3",children:e.jsx("animate",{attributeName:"opacity",values:"0.3;0.6;0.3",dur:"2s",repeatCount:"indefinite"})})]})}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-800 p-6 flex flex-col",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"球差校正原理"}),e.jsx(A,{label:"启用非球面 (Aspherical)",checked:s,onChange:l}),e.jsx(M,{label:"镜片口径 (Aperture)",value:t,min:50,max:140,onChange:c}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"bg-slate-900 p-3 rounded border border-slate-700",children:[e.jsx("h4",{className:"text-pink-400 font-bold text-sm mb-1",children:"球面镜片 (Spherical)"}),e.jsx("p",{className:"text-xs text-slate-400",children:"边缘光线折射过强，汇聚点比中心光线更靠前。导致大光圈拍摄时画面柔光、锐度下降（球差）。"})]}),e.jsxs("div",{className:"bg-slate-900 p-3 rounded border border-slate-700",children:[e.jsx("h4",{className:"text-orange-400 font-bold text-sm mb-1",children:"非球面镜片 (Aspherical)"}),e.jsx("p",{className:"text-xs text-slate-400",children:"通过改变镜片边缘曲率（使其更平坦），让边缘光线与中心光线汇聚于同一点。现代高素质镜头的核心技术。"})]})]})]})]})},U=()=>{const[s,l]=n.useState("NONE");return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-black flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-white rounded-full blur-[20px] z-10 opacity-80"}),e.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[[...Array(5)].map((t,c)=>e.jsx("div",{className:"absolute border border-slate-600 rounded-full",style:{width:`${200-c*30}px`,height:`${200-c*30}px`,background:"rgba(255,255,255,0.05)",boxShadow:s==="NONE"?"inset 10px 10px 20px rgba(255,255,255,0.2), 0 0 10px rgba(255,200,100,0.2)":"none"}},c)),s==="NONE"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 bg-green-500/20 rounded-full blur-xl -translate-x-[120%] -translate-y-[120%]"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-purple-500/20 rounded-full blur-lg -translate-x-[60%] -translate-y-[60%]"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-48 h-48 bg-red-500/10 rounded-full blur-2xl translate-x-[20%] translate-y-[20%]"}),e.jsx("div",{className:"absolute inset-[-100px] bg-white/10 mix-blend-screen pointer-events-none"})]})]}),e.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none mix-blend-screen",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1478131143081-80f7f84ca84d?q=80&w=1000",className:`w-full h-full object-cover transition-all duration-500 ${s==="NONE"?"opacity-50 contrast-50":"opacity-80 contrast-100"}`})})]}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-900 border-l border-slate-800 p-6 flex flex-col",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(E,{size:20,className:"text-yellow-400"})," 镀膜技术"]}),e.jsxs("div",{className:"flex bg-slate-800 p-1 rounded-lg mb-8 border border-slate-700",children:[e.jsx("button",{onClick:()=>l("NONE"),className:`flex-1 py-2 text-xs font-bold rounded-md transition-all ${s==="NONE"?"bg-slate-600 text-white shadow":"text-slate-500"}`,children:"无镀膜 (Uncoated)"}),e.jsx("button",{onClick:()=>l("NANO"),className:`flex-1 py-2 text-xs font-bold rounded-md transition-all ${s==="NANO"?"bg-indigo-600 text-white shadow":"text-slate-500"}`,children:"纳米镀膜 (Nano AR)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{title:"鬼影 (Ghosting)",content:"光线在镜片之间多次反射形成的虚像。通常表现为成串的光斑。",color:s==="NONE"?"text-red-400":"text-slate-500"}),e.jsx(o,{title:"眩光 (Flare)",content:"非成像光线进入镜头导致的雾化现象。会严重降低画面对比度（黑位发灰）。",color:s==="NONE"?"text-red-400":"text-slate-500"}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-700 mt-4",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-400 mb-2",children:"Nano AR Coating II"}),e.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:'现代镜头采用纳米级多孔结构，使空气到玻璃的折射率平滑过渡，将反射率从 4% 降低到 0.1% 以下，确保在逆光下也能获得"黑得下去"的通透画质。'})]})]})]})]})},Y=()=>{const[s,l]=n.useState("CA"),[t,c]=n.useState(!1);return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-8 relative overflow-hidden",children:e.jsxs("div",{className:"relative w-full max-w-lg aspect-square bg-slate-900 border border-slate-800 overflow-hidden shadow-2xl group",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=1000)"}}),s==="CA"&&!t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center mix-blend-screen opacity-50",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=1000)",transform:"scale(1.02) translate(-2px, -2px)",filter:"hue-rotate(90deg)"}}),e.jsx("div",{className:"absolute inset-0 bg-cover bg-center mix-blend-multiply opacity-50",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=1000)",transform:"scale(1.02) translate(2px, 2px)",filter:"hue-rotate(-90deg)"}}),e.jsx("div",{className:"absolute top-4 left-4 text-xs text-red-400 font-mono bg-black/60 px-2 py-1",children:"⚠️ PURPLE FRINGING"})]}),s==="VIGNETTE"&&!t&&e.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at center, transparent 40%, rgba(0,0,0,0.8) 120%)"}}),s==="COMA"&&!t&&e.jsxs("div",{className:"absolute inset-0",children:[[...Array(20)].map((d,f)=>{const a=Math.random()*100,i=Math.random()*100;return a>20&&a<80&&i>20&&i<80?null:e.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full blur-[1px]",style:{left:`${a}%`,top:`${i}%`,boxShadow:"2px 2px 10px white, 4px 4px 0px rgba(255,255,255,0.5)"}},f)}),e.jsx("div",{className:"absolute top-4 left-4 text-xs text-yellow-400 font-mono bg-black/60 px-2 py-1",children:"⚠️ COMA (ASTIGMATISM)"})]}),s==="COMA"&&t&&e.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((d,f)=>{const a=Math.random()*100,i=Math.random()*100;return a>20&&a<80&&i>20&&i<80?null:e.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${a}%`,top:`${i}%`}},f)})})]})}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-900 border-l border-slate-800 p-6 flex flex-col",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(I,{size:20,className:"text-red-400"})," 像差分析"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[e.jsx("button",{onClick:()=>l("CA"),className:`p-2 text-[10px] font-bold rounded border ${s==="CA"?"bg-red-900/50 border-red-500 text-white":"border-slate-700 text-slate-400"}`,children:"色散 (CA)"}),e.jsx("button",{onClick:()=>l("VIGNETTE"),className:`p-2 text-[10px] font-bold rounded border ${s==="VIGNETTE"?"bg-slate-700 border-white text-white":"border-slate-700 text-slate-400"}`,children:"暗角"}),e.jsx("button",{onClick:()=>l("COMA"),className:`p-2 text-[10px] font-bold rounded border ${s==="COMA"?"bg-yellow-900/50 border-yellow-500 text-white":"border-slate-700 text-slate-400"}`,children:"彗差 (Coma)"})]}),e.jsx(A,{label:"启用光学修正 (ED/APO)",checked:t,onChange:c}),e.jsxs("div",{className:"mt-6 bg-slate-800 p-4 rounded border border-slate-700 min-h-[120px]",children:[s==="CA"&&e.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[e.jsx("strong",{className:"text-red-400",children:"色差 (Chromatic Aberration):"})," 不同波长的光（红绿蓝）折射率不同，无法汇聚在同一点。",e.jsx("br",{}),"表现为高反差边缘出现紫边或绿边。需使用 ED (低色散) 镜片修正。"]}),s==="VIGNETTE"&&e.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[e.jsx("strong",{className:"text-white",children:"暗角 (Vignetting):"})," 镜筒物理遮挡（口径蚀）或光线入射角度过大导致。",e.jsx("br",{}),"收缩光圈通常能改善。"]}),s==="COMA"&&e.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[e.jsx("strong",{className:"text-yellow-400",children:"彗差 (Coma):"})," 边缘点光源成像变成彗星状拖尾。",e.jsx("br",{}),"这对星空摄影是致命的。高级镜头（如 24GM）即使光圈全开也能保持边缘星星圆润。"]})]})]})]})};export{re as LensAdvancedView};
