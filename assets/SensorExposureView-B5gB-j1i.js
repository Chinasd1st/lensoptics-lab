import{c as A,r as x,j as e,S as R,Z as L}from"./index-lr-QDExN.js";import{S as N}from"./Controls-Dr5vo9VK.js";import{C as k}from"./camera-BL1xytQp.js";import{S as I}from"./sun-bv1EZgAI.js";import{T as P,S as O}from"./target-MQZ4S2ld.js";import{I as $}from"./info-ByYXI852.js";import{L as z}from"./lightbulb-BQ2QrA9d.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E=A("lock",F);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],C=A("trending-up",G),g={BASE_ISO:100,BASE_SHUTTER:50,BASE_APERTURE:2.8,TARGET_EV:13,ROLLING_SHUTTER_SCANLINES:50},D=()=>{const[s,o]=x.useState(800),[t,n]=x.useState(g.BASE_SHUTTER),[r,m]=x.useState(g.BASE_APERTURE),l=Math.log2(g.BASE_APERTURE**2/(1/g.BASE_SHUTTER)),f=Math.log2(r**2/(1/t)),i=Math.log2(s/g.BASE_ISO),h=l-f+i,a=Math.min(2.5,Math.max(.1,1*Math.pow(2,h-3)));return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-black relative overflow-hidden flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-200 ease-out",style:{backgroundImage:"url(https://images.unsplash.com/photo-1492144534655-ae79c964c9d7)",filter:`brightness(${a})`}}),e.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 backdrop-blur-md p-3 rounded-lg border border-slate-700 text-white shadow-xl",children:[e.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-1",children:"Exposure Value"}),e.jsxs("div",{className:`text-xl font-mono font-bold ${Math.abs(h-3)>2?"text-red-400":"text-emerald-400"}`,children:[h>3?"+":"",(h-3).toFixed(1)," EV"]})]})]}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-900 border-l border-slate-800 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("h3",{className:"text-lg font-bold mb-6 text-white flex items-center gap-2",children:[e.jsx(I,{size:18,className:"text-orange-400"})," 曝光三要素"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(N,{label:"ISO 感光度",value:s,min:100,max:12800,step:100,onChange:o}),e.jsx(N,{label:"快门 (1/X)",value:t,min:1,max:2e3,step:10,onChange:n}),e.jsx(N,{label:"光圈 (f/X)",value:r,min:1.2,max:22,step:.1,onChange:m})]}),e.jsx("div",{className:"mt-auto pt-6 text-[10px] text-slate-500 leading-relaxed",children:e.jsxs("p",{children:[e.jsx("strong",{children:"互易律："})," 增加一档 ISO (x2) 等同于 减慢一档快门 (x2) 或 开大一档光圈 (f值 ÷ 1.4)。"]})})]})]})},U=()=>{const[s,o]=x.useState("GRAY"),[t,n]=x.useState("MULTI"),[r,m]=x.useState(0),l=s==="SNOW"?.9:s==="COAL"?.05:.18,f=.18/l,i=Math.pow(2,r),h=l*f*i,a=Math.min(255,Math.max(0,Math.pow(h,1/2.2)*255)),b=Math.min(100,Math.max(0,a/255*100));return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-black flex flex-col items-center justify-center p-4 lg:p-8 relative overflow-hidden",children:e.jsxs("div",{className:"w-full max-w-sm aspect-square border-8 border-slate-800 bg-[#111] flex flex-col items-center justify-center relative shadow-2xl overflow-hidden rounded-lg",children:[e.jsx("div",{className:"absolute inset-0 transition-colors duration-500 ease-out",style:{backgroundColor:`rgb(${a},${a},${a})`}}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[t==="MULTI"&&e.jsx("div",{className:"w-full h-full grid grid-cols-6 grid-rows-4",children:[...Array(24)].map((c,p)=>e.jsx("div",{className:"border border-green-500/20 bg-green-500/5"},p))}),t==="CENTER"&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"w-2/3 h-2/3 rounded-full border-2 border-green-500/50 bg-green-500/10 blur-xl"})}),t==="SPOT"&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-green-500 bg-transparent shadow-[0_0_20px_rgba(34,197,94,0.5)] flex items-center justify-center",children:e.jsx("div",{className:"w-1 h-1 bg-green-500"})})}),t==="HIGHLIGHT"&&e.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 bg-red-900/80 px-2 py-1 rounded text-[10px] text-red-200 border border-red-500/50",children:[e.jsx(E,{size:10})," Highlight Priority"]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-black/60 backdrop-blur-sm border-t border-slate-700 flex flex-col justify-center px-4",children:[e.jsxs("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-white shadow-[0_0_10px_white] transition-all duration-300",style:{left:`${b}%`}}),e.jsx("div",{className:"absolute top-0 bottom-0 left-[46%] w-0.5 bg-green-500/50"})," "]}),e.jsxs("div",{className:"flex justify-between text-[8px] text-slate-500 mt-1 font-mono",children:[e.jsx("span",{children:"0 (Black)"}),e.jsx("span",{className:"text-green-500",children:"18% (Middle)"}),e.jsx("span",{children:"100 (White)"})]})]})]})}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-900 border-l border-slate-800 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-white",children:[e.jsx(P,{size:18,className:"text-cyan-400"})," 测光与灰卡"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 mb-2",children:"测光模式"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["MULTI","CENTER","SPOT","HIGHLIGHT"].map(c=>e.jsx("button",{onClick:()=>n(c),className:`p-2 rounded border text-[10px] font-bold transition-all ${t===c?"bg-cyan-900/50 border-cyan-500 text-white":"border-slate-700 text-slate-500 hover:border-slate-600"}`,children:c},c))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 mb-2",children:"拍摄对象材质"}),e.jsx("div",{className:"flex gap-2 bg-slate-800 p-1 rounded-lg",children:["SNOW","GRAY","COAL"].map(c=>e.jsx("button",{onClick:()=>o(c),className:`flex-1 py-2 text-[10px] rounded font-bold transition-all ${s===c?"bg-slate-600 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:c==="SNOW"?"白雪 (90%)":c==="COAL"?"煤炭 (5%)":"灰卡 (18%)"},c))})]}),e.jsx(N,{label:"曝光补偿 (EV)",value:r,min:-3,max:3,step:.5,onChange:m,unit:" EV"})]}),e.jsxs("div",{className:"mt-6 bg-slate-800 p-4 rounded-lg border border-slate-700",children:[e.jsx("h4",{className:"text-xs font-bold text-cyan-400 mb-2",children:"为什么拍雪会变灰？"}),e.jsxs("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:["相机的测光表是“傻”的，它默认把看到的一切都还原为 ",e.jsx("span",{className:"text-white",children:"18% 中性灰"}),"。",e.jsx("br",{}),"看到白雪（太亮），它以为过曝了，就压暗（欠曝）。",e.jsx("br",{}),"看到煤炭（太暗），它以为欠曝了，就提亮（过曝）。",e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"口诀："})," 白加黑减。"]})]})]})]})},H=()=>{const[s,o]=x.useState("FF"),t={FF:{crop:1,name:"全画幅 (Full Frame)",dim:"36x24mm",color:"stroke-white",fill:"fill-white/10"},APSC:{crop:1.5,name:"APS-C (Super 35)",dim:"23.5x15.6mm",color:"stroke-yellow-400",fill:"fill-yellow-400/10"},M43:{crop:2,name:"Micro 4/3",dim:"17.3x13mm",color:"stroke-red-400",fill:"fill-red-400/10"}},n=t[s];return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsx("div",{className:"flex-1 bg-black flex items-center justify-center p-8 relative overflow-hidden",children:e.jsx("div",{className:"w-full max-w-[500px] aspect-square relative flex items-center justify-center",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-2xl",children:[e.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"#111",stroke:"#334155",strokeWidth:"0.5"}),e.jsx("text",{x:"50",y:"8",textAnchor:"middle",fontSize:"3",fill:"#475569",children:"Lens Image Circle"}),e.jsx("rect",{x:"14",y:"26",width:"72",height:"48",fill:"none",stroke:"#333",strokeWidth:"0.5",strokeDasharray:"2,2"}),e.jsx("rect",{x:50-72/n.crop/2,y:50-48/n.crop/2,width:72/n.crop,height:48/n.crop,className:`transition-all duration-500 ${n.color} ${n.fill}`,strokeWidth:"1"}),e.jsx("line",{x1:"50",y1:"50",x2:50+72/n.crop/2,y2:50-48/n.crop/2,stroke:"white",strokeWidth:"0.2",opacity:"0.5"}),e.jsxs("text",{x:"50",y:"50",dy:"55",textAnchor:"middle",fontSize:"4",fill:"white",className:"font-mono",children:["Active Area: ",n.dim]})]})})}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-900 border-l border-slate-800 p-6 flex flex-col",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(O,{size:18,className:"text-cyan-400"})," 画幅对比"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(t).map(([r,m])=>e.jsxs("button",{onClick:()=>o(r),className:`w-full p-4 rounded-lg border text-left transition-all group ${s===r?"bg-slate-800 border-slate-500":"border-slate-800 hover:border-slate-700"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:`font-bold text-sm ${s===r?"text-white":"text-slate-400"}`,children:m.name}),e.jsxs("span",{className:"text-[10px] bg-black/30 px-2 py-0.5 rounded text-slate-500",children:[m.crop,"x"]})]}),e.jsx("div",{className:"w-full bg-slate-950 h-1.5 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:`h-full transition-all ${r==="FF"?"bg-white":r==="APSC"?"bg-yellow-400":"bg-red-400"}`,style:{width:`${1/m.crop*100}%`}})})]},r))}),e.jsxs("div",{className:"mt-auto bg-slate-800 p-4 rounded-lg border border-slate-700 text-[10px] text-slate-400 leading-relaxed",children:[e.jsx("strong",{className:"text-white block mb-1",children:"等效系数原理："}),e.jsx("br",{}),"如果在 M43 (2.0x) 上使用 50mm 镜头，其视角等效于全画幅的 100mm。",e.jsx("br",{}),"赚了长焦（拍得更远），亏了广角（视角变窄）。"]})]})]})},B=()=>{const[s,o]=x.useState(30),t=x.useRef(null),n=x.useRef(null);return x.useEffect(()=>{const r=t.current,m=n.current;if(!r||!m)return;const l=r.getContext("2d");if(!l)return;let f,i=0;const h=()=>{const c=window.devicePixelRatio||1,p=m.getBoundingClientRect();r.width=p.width*c,r.height=p.height*c},a=new ResizeObserver(h);a.observe(m),h();const b=()=>{const c=r.width,p=r.height,v=window.devicePixelRatio||1;i++,l.setTransform(1,0,0,1,0,0),l.fillStyle="#020617",l.fillRect(0,0,c,p),l.scale(v,v);const y=c/v,d=p/v,u=d/g.ROLLING_SHUTTER_SCANLINES;for(let j=0;j<g.ROLLING_SHUTTER_SCANLINES;j++){const w=j/g.ROLLING_SHUTTER_SCANLINES*(s/1e3)*10,M=i*.05+w;l.save(),l.beginPath(),l.rect(0,j*u,y,u+.5),l.clip(),l.translate(y/2,d/2),l.rotate(M),l.fillStyle="#ef4444",l.fillRect(-6,-d*.35,12,d*.7),l.restore()}f=requestAnimationFrame(b)};return b(),()=>{cancelAnimationFrame(f),a.disconnect()}},[s]),e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{ref:n,className:"flex-1 bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("canvas",{ref:t,className:"block w-full h-full rounded-xl shadow-2xl border border-slate-800"}),e.jsxs("div",{className:"absolute top-4 left-4 text-xs font-mono text-slate-500 bg-black/50 px-2 rounded",children:["Sensor Readout: ",s,"ms"]})]}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-900 border-l border-slate-800 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-6 text-white flex items-center gap-2",children:[e.jsx(R,{size:18,className:"text-red-400"})," 卷帘快门畸变"]}),e.jsx(N,{label:"传感器读出耗时 (ms)",value:s,min:1,max:100,onChange:o}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mb-6 font-mono",children:[e.jsx("span",{children:"Fast (Global-like)"}),e.jsx("span",{children:"Slow (Jello)"})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-3 bg-slate-800 rounded border border-slate-700",children:[e.jsx("div",{className:"text-xs font-bold text-white mb-1",children:"什么是果冻效应？"}),e.jsxs("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:["CMOS 传感器不是一次性曝光的，而是像百叶窗一样逐行扫描。",e.jsx("br",{}),"当物体运动速度快于扫描速度时，物体上半部分和下半部分被记录在不同时间点，导致直线变斜。"]})]})})]})]})},V=()=>{const[s,o]=x.useState("M"),[t,n]=x.useState(2.8),[r,m]=x.useState(60),[l,f]=x.useState(800),[i,h]=x.useState(0);return x.useEffect(()=>{const a=g.TARGET_EV+i;if(s==="P"){n(4);const b=a-Math.log2(l/100);m(Math.round(Math.pow(2,b)/16))}else if(s==="A"){const b=a-Math.log2(l/100);m(Math.max(1,Math.round(Math.pow(2,b)/(t*t))))}else if(s==="S"){const b=Math.log2(l/100),c=Math.log2(r),p=a+b-c;n(Math.min(22,Math.max(1.2,parseFloat(Math.sqrt(Math.pow(2,p)).toFixed(1)))))}},[s,t,r,l,i]),e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-slate-900 flex flex-col items-center justify-center p-8 relative",children:[e.jsxs("div",{className:"absolute top-8 right-8 w-20 h-20 rounded-full border-4 border-slate-700 bg-slate-800 shadow-2xl flex items-center justify-center z-10",children:[e.jsx("div",{className:"text-3xl font-black text-white",children:s}),e.jsx("div",{className:"absolute -bottom-2 text-[8px] text-slate-500 uppercase tracking-widest bg-slate-900 px-1",children:"Mode"})]}),e.jsxs("div",{className:"relative w-full max-w-xl aspect-video bg-black rounded-xl overflow-hidden border-4 border-slate-800 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:{backgroundImage:"url(https://images.unsplash.com/photo-1516961642265-531546e84af2?q=80&w=2000)",filter:`brightness(${Math.pow(2,-(Math.log2(t**2)+Math.log2(r)-Math.log2(l/100)-g.TARGET_EV))}) blur(${s==="A"||s==="M"?Math.max(0,2.8-t)*2:0}px)`}}),e.jsxs("div",{className:"absolute inset-0 p-4 flex flex-col justify-between pointer-events-none",children:[e.jsxs("div",{className:"flex justify-between text-green-400 font-mono text-xs drop-shadow-md",children:[e.jsx("span",{children:"AF-C"}),e.jsx("span",{children:"[ ● ]"}),e.jsx("span",{children:"RAW"})]}),e.jsxs("div",{className:"flex justify-between items-end text-white font-mono text-sm drop-shadow-md bg-black/20 p-2 rounded",children:[e.jsxs("span",{className:s==="S"||s==="M"?"text-yellow-400 font-bold":"",children:["1/",r]}),e.jsxs("span",{className:s==="A"||s==="M"?"text-yellow-400 font-bold":"",children:["F",t]}),e.jsxs("span",{className:s!=="P"?"text-yellow-400 font-bold":"",children:["ISO ",l]}),e.jsxs("span",{className:"text-slate-300",children:[i>0?"+":"",i," EV"]})]})]})]}),e.jsxs("div",{className:"mt-8 text-center max-w-md bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:s==="P"?"程序自动 (Program)":s==="A"?"光圈优先 (Aperture Priority)":s==="S"?"快门优先 (Shutter Priority)":"手动曝光 (Manual)"}),e.jsx("p",{className:"text-xs text-slate-400",children:s==="P"?"相机的“傻瓜模式”，自动平衡光圈快门。":s==="A"?"人像摄影首选。锁定光圈控制景深，相机自动配快门。":s==="S"?"体育摄影首选。锁定快门凝固瞬间，相机自动配光圈。":"完全掌控。适合影棚闪光灯或极端光线环境。"})]})]}),e.jsxs("div",{className:"w-full lg:w-80 bg-slate-800 p-6 flex flex-col border-l border-slate-700 select-none overflow-y-auto",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(k,{size:18,className:"text-purple-400"})," 拍摄模式"]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-8",children:["P","A","S","M"].map(a=>e.jsx("button",{onClick:()=>o(a),className:`aspect-square rounded-xl font-black text-lg border-2 flex items-center justify-center transition-all ${s===a?"bg-cyan-600 border-cyan-400 text-white shadow-lg scale-105":"bg-slate-700 border-slate-600 text-slate-400 hover:bg-slate-600"}`,children:a},a))}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`transition-opacity ${s==="S"||s==="P"?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-300",children:"光圈 (F-Stop)"}),(s==="S"||s==="P")&&e.jsx(E,{size:10,className:"text-yellow-500"})]}),e.jsx("input",{type:"range",min:"1.4",max:"22",step:"0.1",value:t,onChange:a=>n(parseFloat(a.target.value)),className:"w-full accent-cyan-500 h-1 bg-slate-600 rounded appearance-none"})]}),e.jsxs("div",{className:`transition-opacity ${s==="A"||s==="P"?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-300",children:"快门 (Shutter)"}),(s==="A"||s==="P")&&e.jsx(E,{size:10,className:"text-yellow-500"})]}),e.jsx("input",{type:"range",min:"10",max:"2000",step:"10",value:r,onChange:a=>m(parseFloat(a.target.value)),className:"w-full accent-cyan-500 h-1 bg-slate-600 rounded appearance-none"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between mb-1",children:e.jsx("span",{className:"text-xs font-bold text-slate-300",children:"ISO 感光度"})}),e.jsx("input",{type:"range",min:"100",max:"12800",step:"100",value:l,onChange:a=>f(parseFloat(a.target.value)),className:"w-full accent-emerald-500 h-1 bg-slate-600 rounded appearance-none"})]}),s!=="M"&&e.jsx("div",{className:"pt-4 border-t border-slate-700",children:e.jsx(N,{label:"曝光补偿 (EV)",value:i,min:-3,max:3,step:.3,onChange:h,unit:" EV"})})]})]})]})},W=()=>{const[s,o]=x.useState(3),t=[100,200,400,800,1600,3200,6400,1e4,12800,25600,51200,102400],n=t[s],r=d=>d<800?13+Math.log2(d/100)*.5:d<12800?14.5-Math.log2(d/800):d>=12800?13.5-Math.log2(d/12800):0,m=r(n),l=600,f=250,i=40,h=20,a=l-i*2,b=f-h*2,c=t.map((d,u)=>{const j=i+u/(t.length-1)*a,T=(r(d)-8)/7,_=f-h-T*b;return`${j},${_}`}).join(" "),p=i+s/(t.length-1)*a,v=(m-8)/7,y=f-h-v*b;return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxs("div",{className:"flex-1 bg-slate-900 flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[e.jsxs("div",{className:"w-full max-w-2xl bg-slate-800/50 rounded-xl border border-slate-700 p-6 relative",children:[e.jsxs("div",{className:"absolute top-4 left-6 text-xs font-bold text-slate-400 flex items-center gap-2",children:[e.jsx(C,{size:14,className:"text-cyan-400"})," 动态范围 (Dynamic Range)"]}),e.jsx("div",{className:"relative mt-6 w-full aspect-[2/1]",children:e.jsxs("svg",{className:"w-full h-full overflow-visible",viewBox:`0 0 ${l} ${f}`,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gradCurve",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fbbf24",stopOpacity:"0.5"}),e.jsx("stop",{offset:"100%",stopColor:"#fbbf24",stopOpacity:"0"})]})}),[15,11.5,8].map((d,u)=>{const j=(d-8)/7,w=f-h-j*b;return e.jsxs("g",{children:[e.jsx("line",{x1:i,y1:w,x2:l-i,y2:w,stroke:"#475569",strokeWidth:"1",strokeDasharray:"4,4",opacity:"0.5"}),e.jsxs("text",{x:i-10,y:w+4,textAnchor:"end",fontSize:"10",fill:"#94a3b8","font-family":"monospace",children:[d," Stops"]})]},d)}),e.jsx("polyline",{points:c,fill:"none",stroke:"#fbbf24",strokeWidth:"3",vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("polygon",{points:`${i},${f-h} ${c} ${l-i},${f-h}`,fill:"url(#gradCurve)",opacity:"0.2"}),e.jsx("circle",{cx:p,cy:y,r:"6",fill:"#fbbf24",stroke:"white",strokeWidth:"2",className:"shadow-lg transition-all duration-300"}),e.jsx("line",{x1:p,y1:y,x2:p,y2:f-h,stroke:"white",strokeDasharray:"3,3",opacity:"0.5"}),t.map((d,u)=>{if(u===0||u===3||u===8||u===11){const j=i+u/(t.length-1)*a;return e.jsx("text",{x:j,y:f-5,textAnchor:"middle",fontSize:"10",fill:"#94a3b8","font-family":"monospace",children:d},d)}return null}),e.jsxs("g",{transform:`translate(${i+3/11*a}, 30)`,children:[e.jsx("text",{textAnchor:"middle",fill:"#10b981",fontSize:"10",fontWeight:"bold",dy:"-5",children:"Base 800"}),e.jsx("path",{d:"M0,0 L0,10",stroke:"#10b981",strokeWidth:"1",opacity:"0.5"})]}),e.jsxs("g",{transform:`translate(${i+8/11*a}, 30)`,children:[e.jsx("text",{textAnchor:"middle",fill:"#f59e0b",fontSize:"10",fontWeight:"bold",dy:"-5",children:"Base 12800"}),e.jsx("path",{d:"M0,0 L0,10",stroke:"#f59e0b",strokeWidth:"1",opacity:"0.5"})]})]})})]}),e.jsxs("div",{className:"flex gap-4 mt-8 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex-1 bg-slate-800 p-4 rounded-lg border border-slate-700 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"当前 ISO"}),e.jsx("span",{className:`text-xl font-mono font-bold ${n>=12800?"text-yellow-400":"text-white"}`,children:n})]}),e.jsxs("div",{className:"flex-1 bg-slate-800 p-4 rounded-lg border border-slate-700 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"动态范围"}),e.jsxs("span",{className:"text-xl font-mono font-bold text-cyan-400",children:[m.toFixed(1)," Stops"]})]})]})]}),e.jsxs("div",{className:"w-full lg:w-96 bg-slate-900 border-l border-slate-800 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(L,{size:20,className:"text-yellow-500"})," 双原生 ISO 原理"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx(N,{label:"ISO 感光度调节",value:s,min:0,max:t.length-1,step:1,onChange:o,unit:""}),e.jsxs("div",{className:"flex justify-between text-[9px] text-slate-500 font-mono px-1",children:[e.jsx("span",{children:"100"}),e.jsx("span",{children:"800"}),e.jsx("span",{children:"12800"}),e.jsx("span",{children:"102400"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:[e.jsxs("h4",{className:"text-sm font-bold text-white mb-3 flex items-center gap-2",children:[e.jsx($,{size:14,className:"text-cyan-400"})," 什么是 Dual Base ISO?"]}),e.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed text-justify mb-3",children:["传统相机的底噪随 ISO 升高而线性增加，导致动态范围（宽容度）线性下降。",e.jsx("br",{}),e.jsx("br",{}),"索尼 Cinema Line (及 A7S3/A1) 传感器拥有",e.jsx("strong",{children:"两套模拟放大电路"}),"。当 ISO 达到第二基准（如 12800）时，系统会切换到高增益低噪电路。"]}),e.jsx("div",{className:"bg-yellow-900/20 border-l-2 border-yellow-500 p-3 text-xs text-yellow-100 italic",children:'"这就像汽车换挡。到了高转速（高ISO）换入高档位，引擎反而更安静了。"'})]}),e.jsxs("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:[e.jsx("h4",{className:"text-sm font-bold text-white mb-3",children:"实战建议 (Pro Tips)"}),e.jsxs("ul",{className:"text-xs text-slate-400 space-y-2 list-disc pl-4",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"锁定基准："})," 尽量只使用 ",e.jsx("span",{className:"text-emerald-400",children:"ISO 800"})," 和 ",e.jsx("span",{className:"text-yellow-400",children:"ISO 12800"})," 这两档拍摄 S-Log3。"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"避免中间值："})," ISO 10000 是最差的档位（第一电路的极限），噪点最多。往上拨一档到 12800，画质反而瞬间变好。"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"ND 滤镜："})," 12800 太亮怎么办？不要降 ISO，请使用 ND 滤镜压暗光线，以保留珍贵的动态范围。"]})]})]})]})]})]})},ee=({initialTab:s})=>{const[o,t]=x.useState("PASM_MODES");return x.useEffect(()=>{s&&["EXPOSURE","PASM_MODES","GRAY_CARD","NATIVE_ISO","SENSOR_SIZE","ROLLING_SHUTTER"].includes(s)&&t(s)},[s]),e.jsx("div",{className:"flex flex-col lg:flex-row h-full overflow-hidden",children:e.jsxs("div",{className:"flex-1 bg-slate-950 relative overflow-hidden border-b lg:border-r border-slate-800 flex flex-col",children:[e.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-900 overflow-x-auto no-scrollbar shrink-0",children:[e.jsx(S,{active:o==="PASM_MODES",onClick:()=>t("PASM_MODES"),icon:e.jsx(k,{size:14}),label:"PASM 拍摄模式"}),e.jsx(S,{active:o==="EXPOSURE",onClick:()=>t("EXPOSURE"),icon:e.jsx(I,{size:14}),label:"曝光三角"}),e.jsx(S,{active:o==="GRAY_CARD",onClick:()=>t("GRAY_CARD"),icon:e.jsx(z,{size:14}),label:"测光与灰卡"}),e.jsx(S,{active:o==="NATIVE_ISO",onClick:()=>t("NATIVE_ISO"),icon:e.jsx(C,{size:14}),label:"双原生 ISO"}),e.jsx(S,{active:o==="SENSOR_SIZE",onClick:()=>t("SENSOR_SIZE"),icon:e.jsx(O,{size:14}),label:"传感器画幅"}),e.jsx(S,{active:o==="ROLLING_SHUTTER",onClick:()=>t("ROLLING_SHUTTER"),icon:e.jsx(R,{size:14}),label:"卷帘快门"})]}),e.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[o==="PASM_MODES"&&e.jsx(V,{}),o==="EXPOSURE"&&e.jsx(D,{}),o==="GRAY_CARD"&&e.jsx(U,{}),o==="NATIVE_ISO"&&e.jsx(W,{}),o==="SENSOR_SIZE"&&e.jsx(H,{}),o==="ROLLING_SHUTTER"&&e.jsx(B,{})]})]})})},S=({active:s,onClick:o,icon:t,label:n})=>e.jsxs("button",{onClick:o,className:`flex items-center gap-2 px-5 py-4 text-xs font-bold transition-colors whitespace-nowrap shrink-0 ${s?"text-cyan-400 bg-slate-800 border-b-2 border-cyan-400 shadow-inner":"text-slate-500 hover:text-slate-300"}`,children:[t," ",n]});export{ee as SensorExposureView};
